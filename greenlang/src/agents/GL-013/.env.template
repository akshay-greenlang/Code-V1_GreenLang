# ==============================================================================
# GL-013 PREDICTMAINT - Environment Variables Template
# ==============================================================================
# SECURITY WARNING:
#   - Copy this file to .env and fill in actual values
#   - NEVER commit .env to version control
#   - Use a secrets manager in production
#
# Usage:
#   1. Copy: cp .env.template .env
#   2. Fill in values in .env
#   3. Load: source .env (Linux/Mac) or use python-dotenv
# ==============================================================================

# ==============================================================================
# Application Configuration
# ==============================================================================
# Environment: development, staging, production
ENVIRONMENT=development

# Service identification
SERVICE_NAME=gl-013-predictmaint
SERVICE_VERSION=1.0.0

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
DEBUG=false

# Server configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8000
SERVER_WORKERS=4

# ==============================================================================
# Database Configuration (PostgreSQL)
# ==============================================================================
# Database host
DB_HOST=localhost
DB_PORT=5432
DB_NAME=gl013_predictmaint

# Database credentials (REPLACE WITH ACTUAL VALUES)
DB_USER=gl013_app_user
DB_PASSWORD=<REPLACE_WITH_SECURE_PASSWORD>

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# Full database URL (alternative to individual settings)
# DATABASE_URL=postgresql://user:password@localhost:5432/gl013_predictmaint

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=<REPLACE_WITH_SECURE_PASSWORD>

# Connection settings
REDIS_MAX_CONNECTIONS=100
REDIS_SOCKET_TIMEOUT=5

# Cache configuration
CACHE_DEFAULT_TTL=3600
CACHE_MAX_TTL=86400
CACHE_PREFIX=gl013:

# Full Redis URL (alternative to individual settings)
# REDIS_URL=redis://:password@localhost:6379/0

# ==============================================================================
# Security & Authentication
# ==============================================================================
# API secret key (generate with: openssl rand -hex 32)
API_SECRET_KEY=<REPLACE_WITH_64_CHAR_HEX_STRING>

# JWT configuration
JWT_SECRET=<REPLACE_WITH_64_CHAR_HEX_STRING>
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# Encryption keys
ENCRYPTION_KEY=<REPLACE_WITH_32_BYTE_KEY>
ENCRYPTION_IV=<REPLACE_WITH_16_BYTE_IV>

# ==============================================================================
# Monitoring & Observability
# ==============================================================================
# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# OpenTelemetry
OTEL_ENABLED=true
OTEL_SERVICE_NAME=gl-013-predictmaint
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=0.1

# Jaeger (if using directly)
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# ==============================================================================
# Predictive Maintenance Settings
# ==============================================================================
# Model configuration
MODEL_UPDATE_INTERVAL=3600
MODEL_RETRAIN_THRESHOLD=0.85
MODEL_STORAGE_PATH=./models
MODEL_MAX_VERSIONS=5

# Prediction configuration
PREDICTION_BATCH_SIZE=100
PREDICTION_TIMEOUT=30
PREDICTION_CACHE_TTL=300

# Anomaly detection
ANOMALY_THRESHOLD=3.0
ANOMALY_WINDOW_SIZE=100
ANOMALY_MIN_SAMPLES=30

# Failure prediction
FAILURE_PREDICTION_HORIZON=168
FAILURE_CONFIDENCE_THRESHOLD=0.75
FAILURE_ALERT_LEAD_TIME=24

# ==============================================================================
# Feature Flags
# ==============================================================================
FEATURE_ML_PREDICTIONS=true
FEATURE_ANOMALY_DETECTION=true
FEATURE_RUL_ESTIMATION=true
FEATURE_MAINTENANCE_SCHEDULING=true
FEATURE_COST_OPTIMIZATION=true
FEATURE_REAL_TIME_MONITORING=true
FEATURE_BATCH_PROCESSING=true
FEATURE_API_RATE_LIMITING=true

# ==============================================================================
# Rate Limiting
# ==============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=20

# ==============================================================================
# Industrial Protocols
# ==============================================================================
# MQTT Broker
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883
MQTT_CLIENT_ID=gl-013-predictmaint
MQTT_USERNAME=<REPLACE_WITH_MQTT_USERNAME>
MQTT_PASSWORD=<REPLACE_WITH_MQTT_PASSWORD>
MQTT_KEEPALIVE=60
MQTT_QOS=1

# OPC UA Server
OPCUA_SERVER_URL=opc.tcp://localhost:4840
OPCUA_NAMESPACE=ns=2
OPCUA_SECURITY_POLICY=Basic256Sha256
OPCUA_USERNAME=<REPLACE_WITH_OPCUA_USERNAME>
OPCUA_PASSWORD=<REPLACE_WITH_OPCUA_PASSWORD>

# Modbus Gateway
MODBUS_HOST=localhost
MODBUS_PORT=502
MODBUS_UNIT_ID=1

# ==============================================================================
# External Services & APIs
# ==============================================================================
# Monitoring services
DATADOG_API_KEY=<REPLACE_WITH_DATADOG_API_KEY>
DATADOG_APP_KEY=<REPLACE_WITH_DATADOG_APP_KEY>

# Alerting services
PAGERDUTY_API_KEY=<REPLACE_WITH_PAGERDUTY_API_KEY>
SLACK_WEBHOOK_URL=<REPLACE_WITH_SLACK_WEBHOOK_URL>

# Cloud storage
AWS_ACCESS_KEY_ID=<REPLACE_WITH_AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<REPLACE_WITH_AWS_SECRET_KEY>
AWS_REGION=us-east-1
S3_BUCKET_NAME=gl013-predictmaint-data

# ==============================================================================
# Development Settings
# ==============================================================================
# Hot reload (development only)
RELOAD=true

# Test database (for testing only)
TEST_DB_HOST=localhost
TEST_DB_PORT=5433
TEST_DB_NAME=gl013_predictmaint_test

# ==============================================================================
# Docker/Container Settings
# ==============================================================================
# Container registry
CONTAINER_REGISTRY=gcr.io/greenlang
IMAGE_NAME=gl-013-predictmaint
IMAGE_TAG=latest

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3
