# ==============================================================================
# GL-014 EXCHANGER-PRO - Environment Variables Template
# ==============================================================================
# SECURITY WARNING:
#   - Copy this file to .env and fill in actual values
#   - NEVER commit .env to version control
#   - Use a secrets manager in production
#
# Usage:
#   1. Copy: cp .env.template .env
#   2. Fill in values in .env
#   3. Load: source .env (Linux/Mac) or use python-dotenv
# ==============================================================================

# ==============================================================================
# Application Configuration
# ==============================================================================
# Environment: development, staging, production
ENVIRONMENT=development

# Service identification
SERVICE_NAME=gl-014-exchanger-pro
SERVICE_VERSION=1.0.0

# Logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
DEBUG=false

# Server configuration
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_WORKERS=4
GRPC_PORT=50051

# ==============================================================================
# Database Configuration (PostgreSQL)
# ==============================================================================
# Database host
DB_HOST=localhost
DB_PORT=5432
DB_NAME=gl014_exchanger_pro

# Database credentials (REPLACE WITH ACTUAL VALUES)
DB_USER=gl014_app_user
DB_PASSWORD=<REPLACE_WITH_SECURE_PASSWORD>

# Connection pool settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=1800

# Full database URL (alternative to individual settings)
# DATABASE_URL=postgresql://user:password@localhost:5432/gl014_exchanger_pro

# ==============================================================================
# Redis Configuration
# ==============================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=<REPLACE_WITH_SECURE_PASSWORD>

# Connection settings
REDIS_MAX_CONNECTIONS=100
REDIS_SOCKET_TIMEOUT=5

# Cache configuration
CACHE_DEFAULT_TTL=3600
CACHE_MAX_TTL=86400
CACHE_PREFIX=gl014:

# Full Redis URL (alternative to individual settings)
# REDIS_URL=redis://:password@localhost:6379/0

# ==============================================================================
# Security & Authentication
# ==============================================================================
# API secret key (generate with: openssl rand -hex 32)
API_SECRET_KEY=<REPLACE_WITH_64_CHAR_HEX_STRING>

# JWT configuration
JWT_SECRET=<REPLACE_WITH_64_CHAR_HEX_STRING>
JWT_ALGORITHM=HS256
JWT_EXPIRATION=3600

# Encryption keys
ENCRYPTION_KEY=<REPLACE_WITH_32_BYTE_KEY>
ENCRYPTION_IV=<REPLACE_WITH_16_BYTE_IV>

# ==============================================================================
# Monitoring & Observability
# ==============================================================================
# Prometheus metrics
METRICS_ENABLED=true
METRICS_PORT=9090
METRICS_PATH=/metrics

# OpenTelemetry
OTEL_ENABLED=true
OTEL_SERVICE_NAME=gl-014-exchanger-pro
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_TRACES_SAMPLER=parentbased_traceidratio
OTEL_TRACES_SAMPLER_ARG=0.1

# Jaeger (if using directly)
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# ==============================================================================
# Heat Exchanger Analysis Settings
# ==============================================================================
# Model configuration
MODEL_UPDATE_INTERVAL=3600
MODEL_STORAGE_PATH=./models
MODEL_MAX_VERSIONS=5

# Fouling thresholds (m2-K/W)
FOULING_THRESHOLD_LIGHT=0.0001
FOULING_THRESHOLD_MODERATE=0.0003
FOULING_THRESHOLD_HEAVY=0.0005
FOULING_THRESHOLD_SEVERE=0.001
FOULING_THRESHOLD_CRITICAL=0.002

# Performance thresholds
EFFICIENCY_THRESHOLD_OPTIMAL=95.0
EFFICIENCY_THRESHOLD_GOOD=85.0
EFFICIENCY_THRESHOLD_DEGRADED=75.0
EFFICIENCY_THRESHOLD_POOR=65.0
EFFICIENCY_THRESHOLD_CRITICAL=50.0

# U-value ratio thresholds
U_RATIO_OPTIMAL=0.95
U_RATIO_GOOD=0.85
U_RATIO_DEGRADED=0.70
U_RATIO_POOR=0.55
U_RATIO_CRITICAL=0.40

# Fouling model parameters
FOULING_TIME_CONSTANT_DAYS=180.0
FOULING_MAX_FACTOR=0.002
FOULING_RATE_ACCELERATION_THRESHOLD=0.00001

# ==============================================================================
# Economic Parameters
# ==============================================================================
ELECTRICITY_COST_PER_KWH=0.10
STEAM_COST_PER_KG=0.03
COOLING_WATER_COST_PER_M3=0.50
DOWNTIME_COST_PER_HOUR=5000.0
CLEANING_LABOR_COST_PER_HOUR=150.0

# Cleaning costs (USD)
CHEMICAL_CLEANING_COST=15000.0
MECHANICAL_CLEANING_COST=25000.0
HYDROBLAST_CLEANING_COST=35000.0
OFFLINE_CHEMICAL_COST=20000.0
ONLINE_CHEMICAL_COST=8000.0

# Cleaning downtime (hours)
CHEMICAL_DOWNTIME_HOURS=24.0
MECHANICAL_DOWNTIME_HOURS=48.0
HYDROBLAST_DOWNTIME_HOURS=36.0
OFFLINE_CHEMICAL_HOURS=36.0
ONLINE_CHEMICAL_HOURS=0.0

# Cleaning effectiveness (%)
CHEMICAL_EFFECTIVENESS=85.0
MECHANICAL_EFFECTIVENESS=95.0
HYDROBLAST_EFFECTIVENESS=90.0

# ==============================================================================
# Feature Flags
# ==============================================================================
FEATURE_FOULING_PREDICTION=true
FEATURE_CLEANING_OPTIMIZATION=true
FEATURE_ECONOMIC_ANALYSIS=true
FEATURE_PERFORMANCE_TRACKING=true
FEATURE_REAL_TIME_MONITORING=true
FEATURE_BATCH_PROCESSING=true
FEATURE_API_RATE_LIMITING=true
FEATURE_GRPC_ENABLED=true

# ==============================================================================
# Rate Limiting
# ==============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=20

# ==============================================================================
# Process Historian Integration
# ==============================================================================
# OSIsoft PI
PI_SERVER_HOST=localhost
PI_SERVER_PORT=5450
PI_AF_SERVER=AF_SERVER
PI_AF_DATABASE=HeatExchangers
PI_USERNAME=<REPLACE_WITH_PI_USERNAME>
PI_PASSWORD=<REPLACE_WITH_PI_PASSWORD>

# Honeywell PHD
PHD_SERVER_HOST=localhost
PHD_SERVER_PORT=3000
PHD_USERNAME=<REPLACE_WITH_PHD_USERNAME>
PHD_PASSWORD=<REPLACE_WITH_PHD_PASSWORD>

# AspenTech IP.21
IP21_SERVER_HOST=localhost
IP21_SERVER_PORT=10014
IP21_USERNAME=<REPLACE_WITH_IP21_USERNAME>
IP21_PASSWORD=<REPLACE_WITH_IP21_PASSWORD>

# ==============================================================================
# Industrial Protocols
# ==============================================================================
# MQTT Broker
MQTT_BROKER_HOST=localhost
MQTT_BROKER_PORT=1883
MQTT_CLIENT_ID=gl-014-exchanger-pro
MQTT_USERNAME=<REPLACE_WITH_MQTT_USERNAME>
MQTT_PASSWORD=<REPLACE_WITH_MQTT_PASSWORD>
MQTT_KEEPALIVE=60
MQTT_QOS=1

# OPC UA Server
OPCUA_SERVER_URL=opc.tcp://localhost:4840
OPCUA_NAMESPACE=ns=2
OPCUA_SECURITY_POLICY=Basic256Sha256
OPCUA_USERNAME=<REPLACE_WITH_OPCUA_USERNAME>
OPCUA_PASSWORD=<REPLACE_WITH_OPCUA_PASSWORD>

# Modbus Gateway
MODBUS_HOST=localhost
MODBUS_PORT=502
MODBUS_UNIT_ID=1

# ==============================================================================
# CMMS Integration
# ==============================================================================
# SAP PM
SAP_HOST=localhost
SAP_PORT=8000
SAP_CLIENT=100
SAP_USERNAME=<REPLACE_WITH_SAP_USERNAME>
SAP_PASSWORD=<REPLACE_WITH_SAP_PASSWORD>

# IBM Maximo
MAXIMO_HOST=localhost
MAXIMO_PORT=9080
MAXIMO_USERNAME=<REPLACE_WITH_MAXIMO_USERNAME>
MAXIMO_PASSWORD=<REPLACE_WITH_MAXIMO_PASSWORD>
MAXIMO_API_KEY=<REPLACE_WITH_MAXIMO_API_KEY>

# ==============================================================================
# External Services & APIs
# ==============================================================================
# Monitoring services
DATADOG_API_KEY=<REPLACE_WITH_DATADOG_API_KEY>
DATADOG_APP_KEY=<REPLACE_WITH_DATADOG_APP_KEY>

# Alerting services
PAGERDUTY_API_KEY=<REPLACE_WITH_PAGERDUTY_API_KEY>
SLACK_WEBHOOK_URL=<REPLACE_WITH_SLACK_WEBHOOK_URL>

# Cloud storage
AWS_ACCESS_KEY_ID=<REPLACE_WITH_AWS_ACCESS_KEY>
AWS_SECRET_ACCESS_KEY=<REPLACE_WITH_AWS_SECRET_KEY>
AWS_REGION=us-east-1
S3_BUCKET_NAME=gl014-exchanger-pro-data

# ==============================================================================
# Development Settings
# ==============================================================================
# Hot reload (development only)
RELOAD=true

# Test database (for testing only)
TEST_DB_HOST=localhost
TEST_DB_PORT=5433
TEST_DB_NAME=gl014_exchanger_pro_test

# ==============================================================================
# Docker/Container Settings
# ==============================================================================
# Container registry
CONTAINER_REGISTRY=gcr.io/greenlang
IMAGE_NAME=gl-014-exchanger-pro
IMAGE_TAG=latest

# Health check settings
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3
