============================= test session starts =============================
collecting ... collected 1719 items

tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_utcnow_returns_utc_datetime PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_utcnow_iso_returns_string PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_generate_id_with_prefix PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_generate_id_uniqueness PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_build_provenance_hash_deterministic PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_build_provenance_hash_different_data PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_classify_risk_level_extreme PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_classify_risk_level_high PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_classify_risk_level_medium PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_classify_risk_level_low PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_classify_risk_level_negligible PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_clamp_within_range PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_clamp_below_min PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_clamp_above_max PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_clamp_custom_bounds PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_safe_mean_normal PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_safe_mean_empty PASSED [  0%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_safe_mean_single PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_enum_value_with_enum PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_enum_value_with_string PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestHelperFunctions::test_enum_value_with_int PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_report_type_local_values PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_report_format_local_values PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_supported_frameworks_count PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_supported_frameworks_contains_tcfd PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_supported_frameworks_contains_all PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_valid_report_types_count PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_valid_report_formats_count PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_risk_level_thresholds_ordered PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_urgency_map_keys PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_framework_templates_all_present PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_framework_templates_have_sections PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_recommendations_by_risk_level_keys PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEnumsAndConstants::test_adaptation_measures_keys PASSED [  1%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestReportRecord::test_default_values PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestReportRecord::test_to_dict PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestReportRecord::test_to_dict_contains_all_fields PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestReportRecord::test_to_dict_returns_copies PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEngineInitialization::test_default_initialization PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEngineInitialization::test_initialization_with_custom_genesis PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEngineInitialization::test_initialization_with_external_provenance PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEngineInitialization::test_initialization_thread_lock PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_basic_generation PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_with_title PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_auto_generated_title PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_report_types[physical_risk_assessment] PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_report_types[scenario_analysis] PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_report_types[adaptation_screening] PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_report_types[exposure_summary] PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_report_types[executive_dashboard] PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_formats[json] PASSED [  2%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_formats[html] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_formats[markdown] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_formats[text] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_formats[csv] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_frameworks[tcfd] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_frameworks[csrd_esrs] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_frameworks[eu_taxonomy] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_frameworks[sec_climate] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_frameworks[ifrs_s2] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_all_frameworks[ngfs] PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_with_risk_data PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_with_exposure_data PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_with_vulnerability_data PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_with_all_data PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_with_scope PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_with_namespace PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_include_recommendations_true PASSED [  3%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_include_recommendations_false PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_report_hash_is_sha256 PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_compliance_score_in_range PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_generated_at_populated PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_content_not_empty PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_counter_incremented PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_stored_in_registry PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_invalid_report_type_raises PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_invalid_format_raises PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_invalid_framework_raises PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_pipeline_mode_output_format PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_pipeline_mode_results PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGenerateReport::test_with_parameters PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetReport::test_get_existing_report PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetReport::test_get_nonexistent_report PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetReport::test_get_empty_id PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetReport::test_get_report_returns_deep_copy PASSED [  4%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_list_empty PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_list_all PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_filter_by_report_type PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_filter_by_framework PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_filter_by_format PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_filter_by_namespace PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_filter_nonexistent PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_pagination_limit PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_pagination_offset PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListReports::test_combined_filters PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestDeleteReport::test_delete_existing PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestDeleteReport::test_delete_nonexistent PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestDeleteReport::test_delete_empty_id PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestDeleteReport::test_delete_removes_from_indexes PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestDeleteReport::test_delete_reduces_count PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_get_all_frameworks[tcfd] PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_get_all_frameworks[csrd_esrs] PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_get_all_frameworks[eu_taxonomy] PASSED [  5%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_get_all_frameworks[sec_climate] PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_get_all_frameworks[ifrs_s2] PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_get_all_frameworks[ngfs] PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_get_tcfd_template_detail PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_invalid_framework_raises PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_returns_deep_copy PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetFrameworkTemplate::test_section_weights_sum PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListFrameworks::test_returns_all_frameworks PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListFrameworks::test_each_has_required_fields PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListFrameworks::test_section_count_positive PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestListFrameworks::test_framework_ids_match PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_basic_validation PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validation_with_no_data PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validate_all_frameworks[tcfd] PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validate_all_frameworks[csrd_esrs] PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validate_all_frameworks[eu_taxonomy] PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validate_all_frameworks[sec_climate] PASSED [  6%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validate_all_frameworks[ifrs_s2] PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validate_all_frameworks[ngfs] PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validation_with_risk_data PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validation_with_all_data PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_invalid_framework_raises PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validation_increments_counter PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_sections_have_scores PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validation_recommendations PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validation_has_provenance PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestValidateCompliance::test_validation_id_format PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetStatistics::test_empty_statistics PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetStatistics::test_after_generating_reports PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetStatistics::test_report_type_distribution PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetStatistics::test_framework_distribution PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetStatistics::test_format_distribution PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetStatistics::test_provenance_entries PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetStatistics::test_avg_compliance_score PASSED [  7%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestGetStatistics::test_statistics_returns_copy PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestClear::test_clear_resets_reports PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestClear::test_clear_resets_counters PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestClear::test_clear_resets_indexes PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestClear::test_clear_then_generate PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestExportReports::test_export_empty PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestExportReports::test_export_returns_all PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestExportReports::test_export_returns_dicts PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestExportReports::test_export_returns_deep_copies PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestImportReports::test_import_basic PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestImportReports::test_import_without_id PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestImportReports::test_import_multiple PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestImportReports::test_import_overwrites_existing PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestImportReports::test_roundtrip_export_import PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestImportReports::test_import_empty_list PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestThreadSafety::test_concurrent_generate PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestThreadSafety::test_concurrent_generate_and_list PASSED [  8%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEdgeCases::test_generate_with_enum_values PASSED [  9%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEdgeCases::test_report_content_varies_by_format PASSED [  9%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEdgeCases::test_deterministic_hash_for_same_content PASSED [  9%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEdgeCases::test_empty_risk_data PASSED [  9%]
tests/unit/climate_hazard_service/test_compliance_reporter.py::TestEdgeCases::test_large_number_of_reports PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_database_url PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_redis_url PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_log_level PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_scenario PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_time_horizon PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_report_format PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_max_hazard_sources PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_max_assets PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_max_risk_indices PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_risk_weight_probability PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_risk_weight_intensity PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_risk_weight_frequency PASSED [  9%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_risk_weight_duration PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_vuln_weight_exposure PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_vuln_weight_sensitivity PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_vuln_weight_adaptive PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_threshold_extreme PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_threshold_high PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_threshold_medium PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_threshold_low PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_max_pipeline_runs PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_max_reports PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_enable_provenance PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_genesis_hash PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_enable_metrics PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_pool_size PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_cache_ttl PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_default_rate_limit PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_risk_weights_sum_to_one PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigDefaults::test_vuln_weights_sum_to_one PASSED [ 10%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_invalid_log_level_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_invalid_scenario_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_invalid_time_horizon_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_invalid_report_format_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_hazard_sources_zero_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_hazard_sources_negative_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_hazard_sources_over_limit_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_assets_zero_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_assets_over_limit_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_risk_indices_zero_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_risk_weight_out_of_range_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_risk_weight_above_one_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_risk_weights_not_summing_to_one_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_vuln_weight_out_of_range_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_vuln_weights_not_summing_to_one_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_threshold_extreme_out_of_range_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_threshold_high_out_of_range_raises PASSED [ 11%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_threshold_extreme_equal_to_high_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_threshold_extreme_less_than_high_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_threshold_high_equal_to_medium_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_threshold_medium_equal_to_low_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_threshold_low_zero_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_pipeline_runs_zero_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_pipeline_runs_over_limit_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_reports_zero_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_max_reports_over_limit_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_empty_genesis_hash_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_pool_size_zero_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_cache_ttl_zero_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_rate_limit_zero_raises PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidation::test_multiple_errors_collected PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigNormalization::test_log_level_normalized_to_upper PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigNormalization::test_log_level_mixed_case PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigNormalization::test_time_horizon_normalized_to_upper PASSED [ 12%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigNormalization::test_report_format_normalized_to_lower PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigNormalization::test_report_format_mixed_case PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[SSP1-1.9] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[SSP1-2.6] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[SSP2-4.5] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[SSP3-7.0] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[SSP5-8.5] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[RCP2.6] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[RCP4.5] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[RCP6.0] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_scenario_accepted[RCP8.5] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_time_horizon_accepted[SHORT_TERM] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_time_horizon_accepted[MID_TERM] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_time_horizon_accepted[LONG_TERM] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_report_format_accepted[json] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_report_format_accepted[csv] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_report_format_accepted[pdf] PASSED [ 13%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_log_level_accepted[DEBUG] PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_log_level_accepted[INFO] PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_log_level_accepted[WARNING] PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_log_level_accepted[ERROR] PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigValidValues::test_valid_log_level_accepted[CRITICAL] PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_max_hazard_sources_at_lower_bound PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_max_hazard_sources_at_upper_bound PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_max_assets_at_lower_bound PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_max_assets_at_upper_bound PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_risk_weights_boundary_zero PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_risk_weights_boundary_one PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_threshold_extreme_at_100 PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_max_pipeline_runs_at_upper_bound PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigBoundaryValues::test_max_reports_at_upper_bound PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSerialization::test_to_dict_returns_dict PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSerialization::test_to_dict_has_all_fields PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSerialization::test_to_dict_redacts_database_url PASSED [ 14%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSerialization::test_to_dict_redacts_redis_url PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSerialization::test_to_dict_empty_urls_not_redacted PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSerialization::test_repr_does_not_leak_credentials PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSerialization::test_repr_contains_class_name PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_defaults PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_database_url PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_redis_url PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_log_level PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_default_scenario PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_default_time_horizon PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_default_report_format PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_max_hazard_sources PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_max_assets PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_max_risk_indices PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_risk_weight_probability PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_vuln_weight_exposure PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_threshold_extreme PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_threshold_high PASSED [ 15%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_threshold_medium PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_threshold_low PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_max_pipeline_runs PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_max_reports PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_enable_provenance_true PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_enable_provenance_false PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_enable_provenance_one PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_enable_provenance_yes PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_enable_provenance_no PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_genesis_hash PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_enable_metrics_true PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_enable_metrics_false PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_pool_size PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_cache_ttl PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_rate_limit PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_invalid_int_falls_back_to_default PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_invalid_float_falls_back_to_default PASSED [ 16%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigFromEnv::test_from_env_strips_whitespace PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSingleton::test_get_config_returns_config PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSingleton::test_get_config_returns_same_instance PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSingleton::test_set_config_replaces_singleton PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSingleton::test_set_config_identity PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSingleton::test_reset_config_clears_singleton PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSingleton::test_get_config_reads_env_after_reset PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigSingleton::test_get_config_thread_safety PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigCustom::test_custom_config_accepted PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigCustom::test_custom_config_to_dict PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigCustom::test_equal_weight_distribution PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigCustom::test_rcp_scenario PASSED [ 17%]
tests/unit/climate_hazard_service/test_config.py::TestClimateHazardConfigCustom::test_pdf_report_format PASSED [ 17%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityFunctions::test_clamp_within_range PASSED [ 17%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityFunctions::test_clamp_below_lower PASSED [ 17%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityFunctions::test_clamp_above_upper PASSED [ 17%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityFunctions::test_haversine_same_point PASSED [ 17%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityFunctions::test_haversine_known_distance PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityFunctions::test_haversine_antipodal PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityFunctions::test_build_hash_deterministic PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityFunctions::test_build_hash_different_data PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEnumsAndConstants::test_asset_type_count PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEnumsAndConstants::test_hazard_type_count PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEnumsAndConstants::test_exposure_level_count PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEnumsAndConstants::test_hazard_max_radius_all_present PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEnumsAndConstants::test_weight_sum PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEnumsAndConstants::test_exposure_thresholds_cover_full_range PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEngineInit::test_default_init PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEngineInit::test_init_with_risk_engine PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEngineInit::test_init_standalone PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_basic_registration PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_all_8_asset_types PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_case_insensitive_type PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_empty_asset_id_raises PASSED [ 18%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_empty_name_raises PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_invalid_asset_type_raises PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_negative_value_raises PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_metadata_stored PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestRegisterAsset::test_deep_copy_returned PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetAsset::test_existing_asset PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetAsset::test_non_existent_asset PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetAsset::test_empty_id PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestListAssets::test_list_empty PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestListAssets::test_list_all PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestListAssets::test_filter_by_type PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestListAssets::test_filter_by_sector PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestListAssets::test_limit PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUpdateAsset::test_update_name PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUpdateAsset::test_update_sector PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUpdateAsset::test_update_value_usd PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUpdateAsset::test_update_non_existent_raises PASSED [ 19%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUpdateAsset::test_update_empty_id_raises PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUpdateAsset::test_update_negative_value_raises PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUpdateAsset::test_update_provenance_hash_changes PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestDeleteAsset::test_delete_existing PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestDeleteAsset::test_delete_non_existent PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestDeleteAsset::test_delete_empty_id PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestDeleteAsset::test_delete_removes_assessments PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_basic_assessment PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_all_12_hazard_types PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_zero_intensity_low_score PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_max_all_factors_high_score PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_distance_reduces_proximity PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_distance_beyond_radius_zero_proximity PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_unregistered_asset_raises PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_invalid_hazard_type_raises PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_intensity_clamped PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_optional_scenario_passed PASSED [ 20%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_optional_time_horizon_passed PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_assessment_stored PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_custom_elevation_factor PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessExposure::test_custom_population_factor PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestExposureClassification::test_classify_none PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestExposureClassification::test_classify_low PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestExposureClassification::test_classify_moderate PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestExposureClassification::test_classify_high PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestExposureClassification::test_classify_critical PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestExposureClassification::test_classify_boundary_10 PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessPortfolioExposure::test_basic_portfolio PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessPortfolioExposure::test_portfolio_multiple_hazards PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessPortfolioExposure::test_empty_asset_ids_raises PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessPortfolioExposure::test_empty_hazard_types_raises PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessPortfolioExposure::test_portfolio_summary_stats PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessPortfolioExposure::test_portfolio_provenance PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessSupplyChainExposure::test_basic_supply_chain PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessSupplyChainExposure::test_empty_nodes_raises PASSED [ 21%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessSupplyChainExposure::test_empty_hazard_types_raises PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessSupplyChainExposure::test_auto_registration PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestAssessSupplyChainExposure::test_tier_summary_structure PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestIdentifyHotspots::test_no_hotspots PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestIdentifyHotspots::test_hotspot_found PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestIdentifyHotspots::test_hotspots_sorted_descending PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestIdentifyHotspots::test_filter_by_asset_ids PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestIdentifyHotspots::test_filter_by_hazard_types PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestIdentifyHotspots::test_custom_threshold PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetExposureMap::test_basic_map PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetExposureMap::test_grid_cells_structure PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetExposureMap::test_missing_bounding_box_keys_raises PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetExposureMap::test_invalid_bounding_box_raises PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetExposureMap::test_out_of_range_lat_raises PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetStatistics::test_initial_stats PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetStatistics::test_stats_after_operations PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestGetStatistics::test_exposure_level_distribution PASSED [ 22%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestClear::test_clear_resets_all PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestClear::test_clear_idempotent PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_compute_proximity_score PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_compute_composite_score PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_composite_score_zero PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_get_hazard_max_radius PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_get_supported_asset_types PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_get_supported_hazard_types PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_get_supported_exposure_levels PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_haversine_distance_method PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_get_asset_count PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_get_assessment_count PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestUtilityMethods::test_batch_register_assets PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestThreadSafety::test_concurrent_registrations PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestThreadSafety::test_concurrent_assessments PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEdgeCases::test_assessment_id_unique PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEdgeCases::test_get_assessments_for_asset PASSED [ 23%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEdgeCases::test_get_assessments_for_hazard PASSED [ 24%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEdgeCases::test_get_worst_exposure_for_asset PASSED [ 24%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEdgeCases::test_get_worst_exposure_no_assessments PASSED [ 24%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEdgeCases::test_list_assessments_filter_exposure_level PASSED [ 24%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEdgeCases::test_get_assessment_empty_id PASSED [ 24%]
tests/unit/climate_hazard_service/test_exposure_assessor.py::TestEdgeCases::test_get_assessment_non_existent PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_utcnow_returns_utc PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_build_sha256_deterministic PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_build_sha256_different_data_different_hash PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_build_sha256_key_order_invariant PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_clamp_within_range PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_clamp_below_low PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_clamp_above_high PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_valid_hazard_types_contains_twelve PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_valid_source_types_contains_six PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_region_bounds_contains_global PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestHelpers::test_builtin_sources_count PASSED [ 24%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_engine_creates_successfully PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_engine_has_builtin_sources PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_engine_starts_with_zero_records PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_engine_starts_with_zero_events PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_engine_with_custom_genesis_hash PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_engine_operation_counts_zeroed PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_builtin_sources_are_active PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_builtin_sources_marked_builtin PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestInitialization::test_builtin_sources_have_provenance_hash PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_custom_source PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_provenance_hash PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_updates_statistics PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_duplicate_id_raises PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_empty_id_raises PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_whitespace_id_raises PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_empty_name_raises PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_invalid_source_type_raises PASSED [ 25%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_empty_hazard_types_raises PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_invalid_hazard_type_raises PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_long_id_raises PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_long_name_raises PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_deduplicates_hazard_types PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_sorts_hazard_types PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_returns_deep_copy PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_all_valid_types PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterSource::test_register_source_coverage_normalized PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetSource::test_get_builtin_source PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetSource::test_get_nonexistent_source_returns_none PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetSource::test_get_source_returns_deep_copy PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestListSources::test_list_all_sources PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestListSources::test_list_sources_by_type PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestListSources::test_list_sources_by_hazard_type PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestListSources::test_list_sources_both_filters_and PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestListSources::test_list_sources_no_match_returns_empty PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestListSources::test_list_sources_sorted_by_source_id PASSED [ 26%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_coverage PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_name PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_status PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_source_type PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_hazard_types PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_config PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_nonexistent_returns_none PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_invalid_field_raises PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_empty_name_raises PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_invalid_status_raises PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_empty_hazard_types_raises PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_updates_timestamp PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestUpdateSource::test_update_updates_provenance_hash PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestDeleteSource::test_delete_custom_source PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestDeleteSource::test_delete_nonexistent_returns_false PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestDeleteSource::test_delete_removes_associated_records PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestDeleteSource::test_delete_decrements_source_count PASSED [ 27%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestDeleteSource::test_delete_updates_operation_counts PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_single_record PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_batch PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_updates_source_record_count PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_provenance_hash PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_processing_time PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_invalid_source_raises PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_invalid_hazard_type_raises PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_empty_records_raises PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_missing_location_raises PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_invalid_latitude_raises PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_invalid_longitude_raises PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_nan_intensity_raises PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_inf_probability_raises PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_clamps_intensity PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_clamps_probability PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_without_region PASSED [ 28%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestIngestHazardData::test_ingest_updates_operation_counts PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_by_hazard_type PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_sorted_by_intensity PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_with_region_filter PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_with_location_filter PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_with_time_range PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_with_limit PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_invalid_hazard_raises PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_returns_deep_copies PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHazardData::test_get_data_empty_result PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSearchHazardData::test_search_no_filters PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSearchHazardData::test_search_by_hazard_type PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSearchHazardData::test_search_by_source_id PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSearchHazardData::test_search_by_region PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSearchHazardData::test_search_by_severity_min PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSearchHazardData::test_search_sorted_by_intensity PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSearchHazardData::test_search_with_limit PASSED [ 29%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSearchHazardData::test_search_empty_result PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterHistoricalEvent::test_register_event PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterHistoricalEvent::test_register_event_provenance_hash PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterHistoricalEvent::test_register_event_minimal_params PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterHistoricalEvent::test_register_event_invalid_hazard_raises PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterHistoricalEvent::test_register_event_invalid_location_raises PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterHistoricalEvent::test_register_event_empty_date_raises PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestRegisterHistoricalEvent::test_register_event_updates_statistics PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHistoricalEvents::test_get_events_by_hazard_type PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHistoricalEvents::test_get_events_year_filter PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHistoricalEvents::test_get_events_region_filter PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHistoricalEvents::test_get_events_sorted_descending PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHistoricalEvents::test_get_events_with_limit PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetHistoricalEvents::test_get_events_empty_result PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestAggregateSources::test_aggregate_no_data PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestAggregateSources::test_aggregate_weighted_average PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestAggregateSources::test_aggregate_maximum PASSED [ 30%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestAggregateSources::test_aggregate_minimum PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestAggregateSources::test_aggregate_median PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestAggregateSources::test_aggregate_invalid_strategy_raises PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestAggregateSources::test_aggregate_provenance_hash PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetSourceCoverage::test_coverage_no_records PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetSourceCoverage::test_coverage_with_records PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetSourceCoverage::test_coverage_nonexistent_source_returns_none PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_export_empty PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_export_all_records PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_export_by_hazard_type PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_export_by_source_id PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_import_data PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_import_empty_list PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_import_missing_source_id PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_import_invalid_hazard_type PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestExportImportData::test_import_provenance_hash PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetStatistics::test_statistics_keys PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetStatistics::test_statistics_builtin_count PASSED [ 31%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestGetStatistics::test_statistics_after_operations PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestClear::test_clear_resets_records PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestClear::test_clear_resets_events PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestClear::test_clear_re_registers_builtin_sources PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestClear::test_clear_resets_operation_counts PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSpatialHelpers::test_haversine_same_point PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSpatialHelpers::test_haversine_known_distance PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSpatialHelpers::test_haversine_antipodal PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSpatialHelpers::test_is_in_region_europe PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSpatialHelpers::test_is_in_region_unknown PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestSpatialHelpers::test_is_in_region_outside PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestThreadSafety::test_concurrent_source_registration PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestThreadSafety::test_concurrent_data_ingestion PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestThreadSafety::test_concurrent_read_write PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestProvenanceTracking::test_provenance_entries_increment PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestProvenanceTracking::test_provenance_hash_is_sha256 PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestProvenanceTracking::test_provenance_reset_on_clear PASSED [ 32%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_ingest_max_batch_boundary PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_unicode_source_name PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_all_twelve_hazard_types PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_zero_intensity_record PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_zero_probability_record PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_boundary_latitude_values PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_boundary_longitude_values PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_source_id_with_special_chars PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_metadata_preserved_in_records PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_database.py::TestEdgeCases::test_get_statistics_sources_per_type PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_new_id_with_prefix PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_new_id_uniqueness PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_elapsed_ms PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_sha256_deterministic PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_sha256_different_data PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_safe_mean_normal PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_safe_mean_empty PASSED [ 33%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_classify_risk_extreme PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_classify_risk_high PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_classify_risk_medium PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_classify_risk_low PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_classify_risk_negligible PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_normalise_raw_dict PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_normalise_raw_pydantic_like PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_normalise_raw_object PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_normalise_raw_string PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_extract_location_lat_dict PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_extract_location_lat_missing PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_extract_location_lat_object PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_extract_location_lon_dict PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_extract_location_lon_missing PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_extract_location_lon_object PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestHelperFunctions::test_utcnow_iso_format PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestConstants::test_pipeline_stages_count PASSED [ 34%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestConstants::test_pipeline_stages_order PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEngineInitialization::test_with_all_mocks PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEngineInitialization::test_stub_mode_all_none PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEngineInitialization::test_initial_state PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEngineInitialization::test_stage_durations_initialized PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEngineInitialization::test_properties PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEngineInitialization::test_custom_genesis_hash PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_basic_run PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_empty_assets_raises PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_empty_hazard_types_raises PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_default_scenarios PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_custom_scenarios PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_custom_time_horizons PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_custom_frameworks PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_subset_stages PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_pipeline_stored PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_counters_incremented PASSED [ 35%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_duration_positive PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_evaluation_summary PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_stage_timings PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_stub_mode_pipeline PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_with_parameters PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunPipeline::test_single_asset PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunBatchPipeline::test_basic_batch PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunBatchPipeline::test_multiple_portfolios PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunBatchPipeline::test_empty_portfolios_raises PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunBatchPipeline::test_empty_hazard_types_raises PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunBatchPipeline::test_batch_summary_fields PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunBatchPipeline::test_batch_with_custom_scenarios PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunBatchPipeline::test_batch_portfolio_auto_id PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestRunBatchPipeline::test_batch_failure_in_one_portfolio PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetPipelineRun::test_get_existing_run PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetPipelineRun::test_get_nonexistent_run PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetPipelineRun::test_get_empty_id PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestListPipelineRuns::test_list_empty PASSED [ 36%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestListPipelineRuns::test_list_after_runs PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestListPipelineRuns::test_list_with_limit PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestListPipelineRuns::test_list_sorted_newest_first PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetHealth::test_health_with_all_engines PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetHealth::test_health_with_no_engines PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetHealth::test_health_degraded PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetHealth::test_health_engines_dict PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetHealth::test_health_pipeline_stats PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetHealth::test_health_checked_at PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetStatistics::test_initial_statistics PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetStatistics::test_statistics_after_runs PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetStatistics::test_statistics_per_stage_avg PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetStatistics::test_statistics_provenance_count PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetStatistics::test_statistics_computed_at PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestGetStatistics::test_statistics_duration_metrics PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestClear::test_clear_resets_runs PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestClear::test_clear_resets_counters PASSED [ 37%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestClear::test_clear_resets_stage_durations PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestClear::test_clear_calls_provenance_reset PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestClear::test_clear_calls_engine_clear PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestClear::test_clear_then_statistics PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestClear::test_clear_then_run PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestThreadSafety::test_concurrent_pipeline_runs PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEdgeCases::test_single_stage_only PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEdgeCases::test_all_stages_explicit PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEdgeCases::test_pipeline_with_many_assets PASSED [ 38%]
tests/unit/climate_hazard_service/test_hazard_pipeline.py::TestEdgeCases::test_pipeline_multiple_hazard_types PASSED [ 38%]
tests/unit/climate_hazard_service/test_metrics.py::TestPrometheusAvailable::test_prometheus_available_is_bool PASSED [ 38%]
tests/unit/climate_hazard_service/test_metrics.py::TestPrometheusAvailable::test_prometheus_available_true_when_installed PASSED [ 38%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_hazard_data_ingested_is_counter PASSED [ 38%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_risk_indices_calculated_is_counter PASSED [ 38%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_scenario_projections_is_counter PASSED [ 38%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_exposure_assessments_is_counter PASSED [ 38%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_vulnerability_scores_is_counter PASSED [ 38%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_reports_generated_is_counter PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_pipeline_runs_is_counter PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_active_sources_is_gauge PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_active_assets_is_gauge PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_high_risk_locations_is_gauge PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_ingestion_duration_is_histogram PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricObjectTypes::test_pipeline_duration_is_histogram PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_hazard_data_ingested_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_risk_indices_calculated_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_scenario_projections_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_exposure_assessments_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_vulnerability_scores_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_reports_generated_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_pipeline_runs_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_active_sources_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_active_assets_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_high_risk_locations_name PASSED [ 39%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_ingestion_duration_name PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricNaming::test_pipeline_duration_name PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_hazard_data_ingested_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_risk_indices_calculated_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_scenario_projections_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_exposure_assessments_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_vulnerability_scores_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_reports_generated_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_pipeline_runs_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_active_sources_no_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_active_assets_no_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_high_risk_locations_no_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_ingestion_duration_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricLabels::test_pipeline_duration_labels PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_ingestion_does_not_raise PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_ingestion_various_types PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_risk_calculation_does_not_raise PASSED [ 40%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_risk_calculation_various_scenarios PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_projection_does_not_raise PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_projection_various_horizons PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_exposure_does_not_raise PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_exposure_various_assets PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_vulnerability_does_not_raise PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_vulnerability_various_sectors PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_report_does_not_raise PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_report_various_formats PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_pipeline_does_not_raise PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_pipeline_various_stages PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_record_pipeline_various_statuses PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_set_active_sources_does_not_raise PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_set_active_sources_zero PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_set_active_assets_does_not_raise PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_set_active_assets_zero PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_set_high_risk_does_not_raise PASSED [ 41%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_set_high_risk_zero PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_observe_ingestion_duration_does_not_raise PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_observe_ingestion_duration_various_sources PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_observe_pipeline_duration_does_not_raise PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithPrometheus::test_observe_pipeline_duration_various_stages PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_record_ingestion_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_record_risk_calculation_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_record_projection_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_record_exposure_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_record_vulnerability_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_record_report_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_record_pipeline_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_set_active_sources_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_set_active_assets_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_set_high_risk_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_observe_ingestion_duration_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestHelperFunctionsWithoutPrometheus::test_observe_pipeline_duration_noop PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricsExports::test_all_contains_prometheus_available PASSED [ 42%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricsExports::test_all_contains_all_metric_objects PASSED [ 43%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricsExports::test_all_contains_all_helper_functions PASSED [ 43%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricsExports::test_all_has_correct_count PASSED [ 43%]
tests/unit/climate_hazard_service/test_metrics.py::TestHistogramBuckets::test_ingestion_duration_buckets PASSED [ 43%]
tests/unit/climate_hazard_service/test_metrics.py::TestHistogramBuckets::test_pipeline_duration_buckets PASSED [ 43%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricDescriptions::test_all_metrics_have_descriptions PASSED [ 43%]
tests/unit/climate_hazard_service/test_metrics.py::TestMetricDescriptions::test_descriptions_mention_relevant_context PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_version PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_max_sources_per_namespace PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_max_records_per_batch PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_max_assets_per_namespace PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_max_compound_hazards PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_max_factors_per_profile PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_default_pipeline_batch_size PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_default_confidence_threshold PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_max_projections_per_pair PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_max_search_radius_km PASSED [ 43%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_risk_level_boundaries PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_supported_scenarios_count PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_supported_report_formats PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_supported_frameworks PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestConstants::test_time_horizon_ranges PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestLayer1ReExports::test_spatial_analyzer_engine_exists PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestLayer1ReExports::test_boundary_resolver_engine_exists PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestLayer1ReExports::test_crs_transformer_engine_exists PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestLayer1ReExports::test_availability_flags_are_bool PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_count PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_all_members_are_strings PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[riverine_flood-riverine_flood] PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[coastal_flood-coastal_flood] PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[drought-drought] PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[extreme_heat-extreme_heat] PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[extreme_cold-extreme_cold] PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[wildfire-wildfire] PASSED [ 44%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[tropical_cyclone-tropical_cyclone] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[extreme_precipitation-extreme_precipitation] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[water_stress-water_stress] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[sea_level_rise-sea_level_rise] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[landslide-landslide] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_member_value[coastal_erosion-coastal_erosion] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_from_string PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestHazardTypeEnum::test_invalid_value_raises PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestRiskLevelEnum::test_member_count PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestRiskLevelEnum::test_member_value[negligible-negligible] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestRiskLevelEnum::test_member_value[low-low] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestRiskLevelEnum::test_member_value[medium-medium] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestRiskLevelEnum::test_member_value[high-high] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestRiskLevelEnum::test_member_value[extreme-extreme] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_count PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_value[ssp1_1_9-ssp1_1_9] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_value[ssp1_2_6-ssp1_2_6] PASSED [ 45%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_value[ssp2_4_5-ssp2_4_5] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_value[ssp3_7_0-ssp3_7_0] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_value[ssp5_8_5-ssp5_8_5] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_value[rcp2_6-rcp2_6] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_value[rcp4_5-rcp4_5] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioEnum::test_member_value[rcp8_5-rcp8_5] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestTimeHorizonEnum::test_member_count PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestTimeHorizonEnum::test_member_value[baseline-baseline] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestTimeHorizonEnum::test_member_value[near_term-near_term] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestTimeHorizonEnum::test_member_value[mid_term-mid_term] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestTimeHorizonEnum::test_member_value[long_term-long_term] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestTimeHorizonEnum::test_member_value[end_century-end_century] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_count PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_value[facility-facility] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_value[supply_chain_node-supply_chain_node] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_value[agricultural_plot-agricultural_plot] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_value[infrastructure-infrastructure] PASSED [ 46%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_value[real_estate-real_estate] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_value[natural_asset-natural_asset] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_value[water_source-water_source] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestAssetTypeEnum::test_member_value[coastal_asset-coastal_asset] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportTypeEnum::test_member_count PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportTypeEnum::test_member_value[physical_risk_assessment-physical_risk_assessment] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportTypeEnum::test_member_value[scenario_analysis-scenario_analysis] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportTypeEnum::test_member_value[adaptation_screening-adaptation_screening] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportTypeEnum::test_member_value[exposure_summary-exposure_summary] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportTypeEnum::test_member_value[executive_dashboard-executive_dashboard] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportFormatEnum::test_member_count PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportFormatEnum::test_member_value[json-json] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportFormatEnum::test_member_value[html-html] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportFormatEnum::test_member_value[markdown-markdown] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportFormatEnum::test_member_value[text-text] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestReportFormatEnum::test_member_value[csv-csv] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestDataSourceTypeEnum::test_member_count PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestDataSourceTypeEnum::test_member_value[global_database-global_database] PASSED [ 47%]
tests/unit/climate_hazard_service/test_models.py::TestDataSourceTypeEnum::test_member_value[regional_index-regional_index] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestDataSourceTypeEnum::test_member_value[event_catalog-event_catalog] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestDataSourceTypeEnum::test_member_value[scenario_model-scenario_model] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestDataSourceTypeEnum::test_member_value[satellite-satellite] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestDataSourceTypeEnum::test_member_value[reanalysis-reanalysis] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestExposureLevelEnum::test_member_count PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestExposureLevelEnum::test_member_value[none-none] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestExposureLevelEnum::test_member_value[low-low] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestExposureLevelEnum::test_member_value[moderate-moderate] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestExposureLevelEnum::test_member_value[high-high] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestExposureLevelEnum::test_member_value[critical-critical] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityLevelEnum::test_member_count PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityLevelEnum::test_member_value[very_low-very_low] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityLevelEnum::test_member_value[low-low] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityLevelEnum::test_member_value[moderate-moderate] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityLevelEnum::test_member_value[high-high] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityLevelEnum::test_member_value[very_high-very_high] PASSED [ 48%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityEnum::test_member_count PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityEnum::test_member_value[very_low-very_low] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityEnum::test_member_value[low-low] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityEnum::test_member_value[moderate-moderate] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityEnum::test_member_value[high-high] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityEnum::test_member_value[very_high-very_high] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityLevelEnum::test_member_count PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityLevelEnum::test_member_value[negligible-negligible] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityLevelEnum::test_member_value[low-low] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityLevelEnum::test_member_value[moderate-moderate] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityLevelEnum::test_member_value[high-high] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityLevelEnum::test_member_value[critical-critical] PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_minimal_creation PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_full_creation PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_default_values PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_latitude_boundary_minus_90 PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_latitude_boundary_plus_90 PASSED [ 49%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_longitude_boundary_minus_180 PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_longitude_boundary_plus_180 PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_invalid_latitude_too_high PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_invalid_latitude_too_low PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_invalid_longitude_too_high PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_invalid_longitude_too_low PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_invalid_country_code_three_letters PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_invalid_country_code_lowercase PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_empty_country_code_accepted PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_extra_fields_forbidden PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestLocationModel::test_model_serialization PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestHazardSourceModel::test_minimal_creation PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestHazardSourceModel::test_defaults PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestHazardSourceModel::test_empty_name_raises PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestHazardSourceModel::test_whitespace_name_raises PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestHazardSourceModel::test_with_hazard_types PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestHazardSourceModel::test_source_id_is_uuid PASSED [ 50%]
tests/unit/climate_hazard_service/test_models.py::TestHazardSourceModel::test_extra_fields_forbidden PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardSourceModel::test_registered_at_is_datetime PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardDataRecordModel::test_minimal_creation PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardDataRecordModel::test_defaults PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardDataRecordModel::test_empty_source_id_raises PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardDataRecordModel::test_probability_range_valid PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardDataRecordModel::test_probability_boundary_zero PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardDataRecordModel::test_probability_boundary_one PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardDataRecordModel::test_probability_out_of_range_raises PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardDataRecordModel::test_with_scenario_and_horizon PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardEventModel::test_minimal_creation PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardEventModel::test_full_creation PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardEventModel::test_negative_deaths_raises PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestHazardEventModel::test_extra_fields_forbidden PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestRiskIndexModel::test_minimal_creation PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestRiskIndexModel::test_full_creation PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestRiskIndexModel::test_risk_score_boundary_zero PASSED [ 51%]
tests/unit/climate_hazard_service/test_models.py::TestRiskIndexModel::test_risk_score_boundary_100 PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestRiskIndexModel::test_risk_score_over_100_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestRiskIndexModel::test_risk_score_negative_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestRiskIndexModel::test_probability_over_1_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestRiskIndexModel::test_confidence_over_1_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioProjectionModel::test_creation PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioProjectionModel::test_defaults PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioProjectionModel::test_baseline_risk_over_100_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioProjectionModel::test_projected_risk_over_100_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestScenarioProjectionModel::test_confidence_over_1_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestAssetModel::test_minimal_creation PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestAssetModel::test_defaults PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestAssetModel::test_empty_name_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestAssetModel::test_operational_importance_boundary_zero PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestAssetModel::test_operational_importance_boundary_one PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestAssetModel::test_operational_importance_over_1_raises PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestAssetModel::test_with_value_and_cost PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestExposureResultModel::test_minimal_creation PASSED [ 52%]
tests/unit/climate_hazard_service/test_models.py::TestExposureResultModel::test_defaults PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestExposureResultModel::test_empty_asset_id_raises PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestExposureResultModel::test_composite_score_boundary_100 PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestExposureResultModel::test_composite_score_over_100_raises PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestExposureResultModel::test_proximity_score_over_1_raises PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestExposureResultModel::test_search_radius_max PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityProfileModel::test_minimal_creation PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityProfileModel::test_empty_entity_id_raises PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityProfileModel::test_overall_score_boundary PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityProfileModel::test_overall_score_over_1_raises PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestSensitivityProfileModel::test_with_factors PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityProfileModel::test_minimal_creation PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityProfileModel::test_empty_entity_id_raises PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityProfileModel::test_sub_scores PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestAdaptiveCapacityProfileModel::test_overall_score_over_1_raises PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityScoreModel::test_minimal_creation PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityScoreModel::test_full_creation PASSED [ 53%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityScoreModel::test_empty_entity_id_raises PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityScoreModel::test_vulnerability_score_over_100_raises PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityScoreModel::test_exposure_score_over_1_raises PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityScoreModel::test_sensitivity_score_over_1_raises PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityScoreModel::test_adaptive_capacity_score_over_1_raises PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestVulnerabilityScoreModel::test_default_weights PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestCompoundHazardModel::test_minimal_creation PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestCompoundHazardModel::test_with_secondary_hazards PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestCompoundHazardModel::test_correlation_factor_range PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestCompoundHazardModel::test_correlation_factor_boundary_minus_1 PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestCompoundHazardModel::test_correlation_factor_boundary_plus_1 PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestCompoundHazardModel::test_correlation_factor_out_of_range_raises PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestCompoundHazardModel::test_confidence_over_1_raises PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestCompoundHazardModel::test_interaction_type_default PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestComplianceReportModel::test_minimal_creation PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestComplianceReportModel::test_empty_framework_raises PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestComplianceReportModel::test_with_content PASSED [ 54%]
tests/unit/climate_hazard_service/test_models.py::TestComplianceReportModel::test_with_time_horizons PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestComplianceReportModel::test_with_recommendations PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestPipelineRunModel::test_minimal_creation PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestPipelineRunModel::test_valid_statuses PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestPipelineRunModel::test_invalid_status_raises PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestPipelineRunModel::test_with_results PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestPipelineRunModel::test_with_errors_and_warnings PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestRegisterSourceRequestModel::test_minimal_creation PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestRegisterSourceRequestModel::test_empty_name_raises PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestRegisterSourceRequestModel::test_defaults PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestIngestDataRequestModel::test_minimal_creation PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestIngestDataRequestModel::test_empty_source_id_raises PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestIngestDataRequestModel::test_batch_size_boundary_1 PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestIngestDataRequestModel::test_batch_size_boundary_max PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestIngestDataRequestModel::test_batch_size_over_max_raises PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestIngestDataRequestModel::test_batch_size_zero_raises PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestIngestDataRequestModel::test_defaults PASSED [ 55%]
tests/unit/climate_hazard_service/test_models.py::TestCalculateRiskRequestModel::test_minimal_creation PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestCalculateRiskRequestModel::test_defaults PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestCalculateRiskRequestModel::test_search_radius_boundary_0 PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestCalculateRiskRequestModel::test_search_radius_boundary_max PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestCalculateRiskRequestModel::test_search_radius_over_max_raises PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestProjectScenarioRequestModel::test_creation PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestProjectScenarioRequestModel::test_defaults PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestRegisterAssetRequestModel::test_minimal_creation PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestRegisterAssetRequestModel::test_empty_name_raises PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestRegisterAssetRequestModel::test_operational_importance_over_1_raises PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestAssessExposureRequestModel::test_minimal_creation PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestAssessExposureRequestModel::test_empty_asset_id_raises PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestAssessExposureRequestModel::test_search_radius_over_max_raises PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestScoreVulnerabilityRequestModel::test_minimal_creation PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestScoreVulnerabilityRequestModel::test_empty_entity_id_raises PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestScoreVulnerabilityRequestModel::test_exposure_score_over_1_raises PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestScoreVulnerabilityRequestModel::test_defaults PASSED [ 56%]
tests/unit/climate_hazard_service/test_models.py::TestScoreVulnerabilityRequestModel::test_with_inline_factors PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestGenerateReportRequestModel::test_minimal_creation PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestGenerateReportRequestModel::test_empty_framework_raises PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestGenerateReportRequestModel::test_defaults PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestGenerateReportRequestModel::test_with_filters PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestModelSerialization::test_location_roundtrip PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestModelSerialization::test_risk_index_roundtrip PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestModelSerialization::test_pipeline_run_roundtrip PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestModelSerialization::test_hazard_source_json PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestModelSerialization::test_compliance_report_json PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestModelsExports::test_all_enums_exported PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestModelsExports::test_all_sdk_models_exported PASSED [ 57%]
tests/unit/climate_hazard_service/test_models.py::TestModelsExports::test_all_request_models_exported PASSED [ 57%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceEntry::test_entry_creation PASSED [ 57%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceEntry::test_entry_to_dict PASSED [ 57%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceEntry::test_entry_to_dict_keys PASSED [ 57%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceEntry::test_entry_default_metadata PASSED [ 57%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceEntry::test_entry_with_custom_metadata PASSED [ 57%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_entity_types_is_frozenset PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_entity_types_count PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_entity_types_contents PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_is_frozenset PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_count PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_contains_register_source PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_contains_calculate_risk PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_contains_run_pipeline PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_contains_generate_tcfd PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_contains_all_source_actions PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_contains_all_data_actions PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_contains_all_risk_actions PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceConstants::test_valid_actions_contains_all_pipeline_actions PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerInit::test_default_genesis_hash PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerInit::test_custom_genesis_hash PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerInit::test_empty_chain_on_init PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerInit::test_empty_entity_count_on_init PASSED [ 58%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerInit::test_last_chain_hash_equals_genesis PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerInit::test_len_zero_on_init PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerInit::test_repr_on_init PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_returns_entry PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_sets_entity_type PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_sets_entity_id PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_sets_action PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_hash_value_is_sha256 PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_parent_hash_is_genesis_for_first PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_parent_hash_chains PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_timestamp_is_iso_format PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_increments_entry_count PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_increments_entity_count PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_same_entity_does_not_increase_entity_count PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_with_data PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_with_none_data PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_with_metadata PASSED [ 59%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_updates_last_chain_hash PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_empty_entity_type_raises PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_empty_action_raises PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_empty_entity_id_raises PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerRecord::test_record_data_hash_deterministic PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_empty_chain_is_valid PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_single_entry_chain_is_valid PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_multi_entry_chain_is_valid PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_chain_detects_broken_parent_hash PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_chain_detects_missing_hash_value PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_chain_detects_missing_entity_type PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_chain_detects_missing_entity_id PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_chain_detects_missing_action PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_chain_detects_missing_timestamp PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_chain_detects_wrong_genesis_link PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerVerifyChain::test_chain_valid_after_many_entries PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetChain::test_get_chain_empty PASSED [ 60%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetChain::test_get_chain_returns_list PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetChain::test_get_chain_returns_copy PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetChain::test_get_chain_preserves_order PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetChain::test_get_chain_length PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntries::test_get_entries_no_filter PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntries::test_get_entries_by_entity_type PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntries::test_get_entries_by_action PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntries::test_get_entries_by_entity_type_and_action PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntries::test_get_entries_with_limit PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntries::test_get_entries_with_limit_larger_than_chain PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntries::test_get_entries_with_limit_zero PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntries::test_get_entries_no_match PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntriesByEntity::test_get_entries_by_entity_found PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntriesByEntity::test_get_entries_by_entity_not_found PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntriesByEntity::test_get_entries_by_entity_multiple PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntriesByEntity::test_get_entries_by_entity_returns_copy PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntryByHash::test_get_entry_by_hash_found PASSED [ 61%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntryByHash::test_get_entry_by_hash_not_found PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntryByHash::test_get_entry_by_hash_empty_string PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntryByHash::test_get_entry_by_hash_from_populated PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntityChain::test_get_entity_chain_single PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntityChain::test_get_entity_chain_multiple_types PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntityChain::test_get_entity_chain_not_found PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerGetEntityChain::test_get_entity_chain_preserves_order PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerExport::test_export_chain_empty PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerExport::test_export_chain_returns_dicts PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerExport::test_export_chain_length PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerExport::test_export_chain_dict_keys PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerExport::test_export_json_returns_string PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerExport::test_export_json_is_valid_json PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerExport::test_export_json_is_indented PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerReset::test_reset_clears_entries PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerReset::test_reset_clears_entities PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerReset::test_reset_restores_genesis_hash PASSED [ 62%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerReset::test_reset_chain_is_empty PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerReset::test_reset_verify_chain_valid PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerReset::test_record_after_reset PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerBuildHash::test_build_hash_returns_64_char_hex PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerBuildHash::test_build_hash_deterministic PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerBuildHash::test_build_hash_different_data_different_hash PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerBuildHash::test_build_hash_none PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerBuildHash::test_build_hash_string PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerBuildHash::test_build_hash_list PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerBuildHash::test_build_hash_sorted_keys PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerBuildHash::test_build_hash_nested_dict PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerProperties::test_entry_count_property PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerProperties::test_entity_count_property PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerProperties::test_genesis_hash_property_is_string PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerProperties::test_genesis_hash_property_is_64_chars PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerProperties::test_last_chain_hash_property PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerProperties::test_len_dunder PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerProperties::test_repr_populated PASSED [ 63%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceChainIntegrity::test_chain_hashes_differ_between_entries PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceChainIntegrity::test_chain_links_are_sequential PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceChainIntegrity::test_first_entry_links_to_genesis PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceChainIntegrity::test_tampered_entry_detected PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceSingletonHelpers::test_get_returns_tracker PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceSingletonHelpers::test_get_returns_same_instance PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceSingletonHelpers::test_set_replaces_singleton PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceSingletonHelpers::test_set_invalid_type_raises PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceSingletonHelpers::test_reset_clears_singleton PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceSingletonHelpers::test_singleton_thread_safety PASSED [ 64%]
tests/unit/climate_hazard_service/test_provenance.py::TestProvenanceTrackerThreadSafety::test_concurrent_records PASSED [ 64%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEnumerations::test_risk_level_values PASSED [ 64%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEnumerations::test_hazard_type_values PASSED [ 64%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEnumerations::test_aggregation_strategy_values PASSED [ 64%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEnumerations::test_trend_direction_values PASSED [ 64%]
tests/unit/climate_hazard_service/test_risk_index.py::TestModuleHelpers::test_hash_data_deterministic PASSED [ 64%]
tests/unit/climate_hazard_service/test_risk_index.py::TestModuleHelpers::test_hash_data_none PASSED [ 64%]
tests/unit/climate_hazard_service/test_risk_index.py::TestModuleHelpers::test_hash_data_different_inputs PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestModuleHelpers::test_utcnow_returns_utc PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestInitialization::test_engine_creates_successfully PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestInitialization::test_engine_default_weights PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestInitialization::test_engine_default_thresholds PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestInitialization::test_engine_starts_empty PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestInitialization::test_engine_with_custom_genesis PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestInitialization::test_engine_with_explicit_provenance PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestInitialization::test_weights_sum_to_one PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestInitialization::test_thresholds_ordered PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_intensity_zero PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_intensity_max PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_intensity_above_max PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_intensity_negative PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_intensity_midrange PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_frequency_zero PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_frequency_max PASSED [ 65%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_frequency_above_max PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_duration_zero PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_duration_365 PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_normalise_duration_above_max PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_clamp_probability_valid PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_clamp_probability_below_zero PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestNormalisationHelpers::test_clamp_probability_above_one PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[0.0-NEGLIGIBLE] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[10.0-NEGLIGIBLE] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[19.99-NEGLIGIBLE] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[20.0-LOW] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[30.0-LOW] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[39.99-LOW] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[40.0-MEDIUM] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[50.0-MEDIUM] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[59.99-MEDIUM] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[60.0-HIGH] PASSED [ 66%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[70.0-HIGH] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[79.99-HIGH] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[80.0-EXTREME] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[90.0-EXTREME] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClassifyRiskLevel::test_classify_at_boundaries[100.0-EXTREME] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_basic_calculation PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_calculation_accuracy PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_calculation_parametrized[0.0-0.0-0.0-0.0] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_calculation_parametrized[1.0-10.0-10.0-365.0] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_calculation_parametrized[0.5-5.0-5.0-182.5] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_calculation_parametrized[0.1-1.0-0.5-3.0] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_calculation_parametrized[0.9-9.0-8.0-300.0] PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_zero_inputs_negligible PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_max_inputs_extreme PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_component_scores PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_location_normalised PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_scenario_and_time_horizon PASSED [ 67%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_provenance_hash_present PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_calculated_at_timestamp PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_stored_in_memory PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_returns_deep_copy PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_invalid_probability_raises PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_negative_probability_raises PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_nan_intensity_raises PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_inf_frequency_raises PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_negative_duration_raises PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_empty_hazard_type_raises PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_empty_location_raises PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskIndex::test_increments_total_calculations PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_weighted_average_aggregation PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_maximum_aggregation PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_sum_capped_aggregation PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_dominant_hazard_identified PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_per_hazard_scores_present PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_provenance_hash PASSED [ 68%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_empty_hazard_risks_raises PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_invalid_aggregation_raises PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_empty_location_raises PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_single_hazard_multi PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateMultiHazardIndex::test_increments_multi_calculations PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateCompoundRisk::test_basic_compound_risk PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateCompoundRisk::test_compound_uses_default_correlation PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateCompoundRisk::test_compound_with_custom_correlation PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateCompoundRisk::test_compound_score_capped_at_100 PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateCompoundRisk::test_compound_no_secondaries PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateCompoundRisk::test_compound_invalid_primary_raises PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateCompoundRisk::test_compound_provenance_hash PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateCompoundRisk::test_increments_compound_calculations PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestRankHazards::test_basic_ranking PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestRankHazards::test_rank_numbers_sequential PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestRankHazards::test_rank_includes_scores PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestRankHazards::test_rank_empty_raises PASSED [ 69%]
tests/unit/climate_hazard_service/test_risk_index.py::TestRankHazards::test_rank_returns_deep_copy PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompareLocations::test_basic_comparison PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompareLocations::test_compare_empty_raises PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompareLocations::test_compare_empty_hazard_type_raises PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompareLocations::test_compare_increments_counter PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskTrend::test_increasing_trend PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskTrend::test_decreasing_trend PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskTrend::test_stable_trend PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskTrend::test_trend_result_fields PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskTrend::test_trend_single_snapshot PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskTrend::test_trend_empty_snapshots_raises PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskTrend::test_trend_increments_counter PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskIndex::test_retrieve_existing PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskIndex::test_retrieve_nonexistent PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskIndex::test_retrieve_empty_id PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskIndex::test_retrieve_returns_deep_copy PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestListRiskIndices::test_list_all PASSED [ 70%]
tests/unit/climate_hazard_service/test_risk_index.py::TestListRiskIndices::test_filter_by_hazard_type PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestListRiskIndices::test_filter_by_risk_level PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestListRiskIndices::test_filter_by_location PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestListRiskIndices::test_list_with_limit PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestListRiskIndices::test_list_empty_engine PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetHighRiskSummary::test_high_risk_summary PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetHighRiskSummary::test_high_risk_summary_high_threshold PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetHighRiskSummary::test_high_risk_default_threshold PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetStatistics::test_statistics_keys PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetStatistics::test_statistics_zero_state PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetStatistics::test_statistics_after_calculations PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetStatistics::test_score_distribution PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClear::test_clear_removes_indices PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClear::test_clear_resets_counters PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClear::test_clear_empty_engine PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestClear::test_clear_returns_timestamp PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestWeightManagement::test_get_weights PASSED [ 71%]
tests/unit/climate_hazard_service/test_risk_index.py::TestWeightManagement::test_set_weights PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestWeightManagement::test_set_partial_weights PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestWeightManagement::test_set_weights_invalid_sum_raises PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestWeightManagement::test_set_weights_negative_raises PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestThresholdManagement::test_get_thresholds PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestThresholdManagement::test_set_thresholds PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestThresholdManagement::test_set_thresholds_invalid_order_raises PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompoundCorrelations::test_get_compound_correlations PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompoundCorrelations::test_drought_wildfire_correlation PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompoundCorrelations::test_set_compound_correlation PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompoundCorrelations::test_set_correlation_out_of_range_raises PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCompoundCorrelations::test_get_unknown_pair_default PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskScoreRaw::test_raw_score_matches_formula PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskScoreRaw::test_raw_score_zero PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskScoreRaw::test_raw_score_max PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestCalculateRiskScoreRaw::test_raw_score_does_not_store PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestBatchCalculateRiskIndices::test_batch_success PASSED [ 72%]
tests/unit/climate_hazard_service/test_risk_index.py::TestBatchCalculateRiskIndices::test_batch_with_errors PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestBatchCalculateRiskIndices::test_batch_empty_list PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskLevelDistribution::test_distribution_empty PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskLevelDistribution::test_distribution_populated PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetRiskLevelDistribution::test_distribution_has_all_levels PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetHazardTypeSummary::test_summary_empty PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetHazardTypeSummary::test_summary_populated PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetLocationRiskProfile::test_profile_existing_location PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestGetLocationRiskProfile::test_profile_nonexistent_location PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestValidateRiskComponents::test_valid_components PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestValidateRiskComponents::test_invalid_probability PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestValidateRiskComponents::test_nan_input PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestValidateRiskComponents::test_negative_frequency PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestDeleteRiskIndex::test_delete_existing PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestDeleteRiskIndex::test_delete_nonexistent PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestExportImportIndices::test_export_dict PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestExportImportIndices::test_export_json PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestExportImportIndices::test_import_indices PASSED [ 73%]
tests/unit/climate_hazard_service/test_risk_index.py::TestExportImportIndices::test_import_skip_without_id PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestExportImportIndices::test_import_multi_hazard_id PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestExportImportIndices::test_import_compound_id PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestExportImportIndices::test_roundtrip PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestDunderMethods::test_len PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestDunderMethods::test_repr PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestDunderMethods::test_contains_existing PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestDunderMethods::test_contains_nonexistent PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestDunderMethods::test_iter PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestThreadSafety::test_concurrent_calculations PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestThreadSafety::test_concurrent_read_write PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestProvenanceTracking::test_provenance_hash_hex_chars PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestProvenanceTracking::test_provenance_entries_increment PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestProvenanceTracking::test_different_inputs_different_hashes PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_very_small_probability PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_intensity_above_10_normalised PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_frequency_above_10_normalised PASSED [ 74%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_duration_above_365_normalised PASSED [ 75%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_location_defaults PASSED [ 75%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_hazard_type_case_insensitive PASSED [ 75%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_get_index_count PASSED [ 75%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_score_precision PASSED [ 75%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_multi_hazard_with_zero_weights PASSED [ 75%]
tests/unit/climate_hazard_service/test_risk_index.py::TestEdgeCases::test_compound_amplification_formula PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestRouterBasics::test_router_exists PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestRouterBasics::test_router_has_prefix PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestRouterBasics::test_router_has_tag PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestRouterBasics::test_router_has_routes PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestRegisterSource::test_register_source_success PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestRegisterSource::test_register_source_minimal PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestRegisterSource::test_register_source_service_unavailable PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestListSources::test_list_sources PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestListSources::test_list_sources_with_filters PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestListSources::test_list_sources_with_pagination PASSED [ 75%]
tests/unit/climate_hazard_service/test_router.py::TestGetSource::test_get_source_found PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestGetSource::test_get_source_not_found PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestIngestHazardData::test_ingest_success PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestIngestHazardData::test_ingest_minimal PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestQueryHazardData::test_query_all PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestQueryHazardData::test_query_with_filters PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestListHazardEvents::test_list_events PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestListHazardEvents::test_list_events_with_filters PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestCalculateRiskIndex::test_calculate_success PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestCalculateRiskIndex::test_calculate_minimal PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestCalculateMultiHazard::test_multi_hazard PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestCompareLocations::test_compare PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestProjectScenario::test_project_success PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestListScenarios::test_list_scenarios PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestListScenarios::test_list_scenarios_with_filters PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestRegisterAsset::test_register_asset PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestListAssets::test_list_assets PASSED [ 76%]
tests/unit/climate_hazard_service/test_router.py::TestListAssets::test_list_assets_with_filters PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestAssessExposure::test_assess_exposure PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestAssessPortfolioExposure::test_assess_portfolio PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestScoreVulnerability::test_score_vulnerability PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestGenerateReport::test_generate_report PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestGenerateReport::test_generate_report_minimal PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestGetReport::test_get_report_found PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestGetReport::test_get_report_not_found PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestRunPipeline::test_run_pipeline PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestRunPipeline::test_run_pipeline_minimal PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestHealthCheck::test_health_check PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestHealthCheck::test_health_check_degraded PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_list_sources_503 PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_ingest_503 PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_query_data_503 PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_list_events_503 PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_calculate_risk_503 PASSED [ 77%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_multi_hazard_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_compare_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_project_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_list_scenarios_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_register_asset_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_list_assets_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_assess_exposure_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_portfolio_exposure_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_vulnerability_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_generate_report_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_get_report_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_run_pipeline_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestServiceUnavailable::test_health_503 PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_register_source_passes_body PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_list_sources_passes_params PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_get_source_passes_id PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_ingest_passes_body PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_risk_calculate_passes_body PASSED [ 78%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_multi_hazard_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_compare_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_project_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_register_asset_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_assess_exposure_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_portfolio_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_vulnerability_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_generate_report_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_get_report_passes_id PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_pipeline_passes_body PASSED [ 79%]
tests/unit/climate_hazard_service/test_router.py::TestEndpointMethodVerification::test_health_calls_get_health PASSED [ 79%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_canonical_ssp_identifiers PASSED [ 79%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_canonical_rcp_identifiers PASSED [ 79%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_case_insensitive PASSED [ 79%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_hyphen_normalisation PASSED [ 79%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_display_name_accepted PASSED [ 79%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_empty_string_raises PASSED [ 79%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_none_raises PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_unknown_raises PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateScenario::test_whitespace_stripped PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateTimeHorizon::test_all_horizons_valid PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateTimeHorizon::test_case_insensitive PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateTimeHorizon::test_empty_raises PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateTimeHorizon::test_unknown_raises PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateHazardType::test_all_12_hazard_types_valid PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateHazardType::test_case_insensitive PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateHazardType::test_hyphen_normalised PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateHazardType::test_empty_raises PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateHazardType::test_unknown_raises PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateBaselineRisk::test_valid_baseline PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateBaselineRisk::test_probability_clamped_to_01 PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateBaselineRisk::test_missing_keys_filled_from_defaults PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateBaselineRisk::test_empty_dict_raises PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateBaselineRisk::test_none_raises PASSED [ 80%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateBaselineRisk::test_non_numeric_value_raises PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateBaselineRisk::test_negative_intensity_raises PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateLocation::test_dict_location_passthrough PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateLocation::test_string_location PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateLocation::test_empty_string_raises PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateLocation::test_none_raises PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestValidateLocation::test_numeric_location_converted PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEngineInit::test_default_init PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEngineInit::test_init_with_risk_engine PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEngineInit::test_init_without_risk_engine PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEngineInit::test_init_provenance_disabled PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEngineInit::test_init_custom_genesis_hash PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEngineInit::test_supported_counts PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_basic_projection PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_projected_probability_increases_for_heat PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_projected_intensity_decreases_for_cold PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_baseline_horizon_returns_zero_delta PASSED [ 81%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_invalid_hazard_raises PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_invalid_scenario_raises PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_invalid_horizon_raises PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_projection_stored PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_projection_deep_copied PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_stats_increment PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_risk_change_pct_included PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_scenario_info_included PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_horizon_info_included PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_string_location_accepted PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_all_12_hazard_types PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_all_8_scenarios PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_all_5_time_horizons PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectHazard::test_zero_baseline_no_amplification PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectMultiScenario::test_two_scenarios PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectMultiScenario::test_all_8_scenarios_comparison PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectMultiScenario::test_empty_scenarios_raises PASSED [ 82%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectMultiScenario::test_all_invalid_scenarios_raises PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectMultiScenario::test_partial_invalid_scenarios_skipped PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectMultiScenario::test_scenario_comparison_sorted PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectMultiScenario::test_stats_multi_incremented PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectMultiScenario::test_provenance_hash_present PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectTimeSeries::test_default_all_horizons PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectTimeSeries::test_custom_horizons PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectTimeSeries::test_warming_trajectory_included PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectTimeSeries::test_trend_direction PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectTimeSeries::test_empty_horizons_list_raises PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectTimeSeries::test_all_invalid_horizons_raises PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectTimeSeries::test_stats_time_series_incremented PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectTimeSeries::test_sorted_by_warming PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCalculateWarmingDelta::test_ssp2_mid_term PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCalculateWarmingDelta::test_baseline_zero PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCalculateWarmingDelta::test_end_century_equals_warming_2100 PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCalculateWarmingDelta::test_monotonic_warming_across_horizons PASSED [ 83%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCalculateWarmingDelta::test_higher_emission_more_warming PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCalculateWarmingDelta::test_stats_counter_incremented PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCalculateWarmingDelta::test_rcp_warming_values PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_extreme_heat_scaling PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_zero_warming_no_change PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_probability_clamped PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_frequency_floored_at_zero PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_duration_floored_at_zero PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_sea_level_rise_additive PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_extreme_cold_decreasing PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_stats_scaling_incremented PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestApplyScalingFactors::test_result_keys_present PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetScalingFactors::test_extreme_heat_factors PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetScalingFactors::test_all_hazard_types_have_factors PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetScalingFactors::test_direction_indicators PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetScalingFactors::test_invalid_hazard_raises PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestScenarioListing::test_list_scenarios_count PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestScenarioListing::test_list_scenarios_sorted_by_warming PASSED [ 84%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestScenarioListing::test_get_scenario_info PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestScenarioListing::test_get_scenario_info_invalid PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectionListing::test_list_empty PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectionListing::test_list_after_projection PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectionListing::test_filter_by_hazard_type PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectionListing::test_filter_by_scenario PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectionListing::test_filter_by_horizon PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectionListing::test_limit_respected PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectionListing::test_get_projection_returns_none_for_missing PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectionListing::test_get_projection_empty_id PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetStatistics::test_initial_stats PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetStatistics::test_stats_after_operations PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetStatistics::test_stats_have_meta_counts PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestClear::test_clear_resets_projections PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestClear::test_clear_returns_previous_stats PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestClear::test_clear_idempotent PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestListingMethods::test_list_time_horizons_count PASSED [ 85%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestListingMethods::test_list_time_horizons_sorted PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestListingMethods::test_get_time_horizon_info PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestListingMethods::test_get_time_horizon_info_invalid PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestListingMethods::test_list_hazard_types_count PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestListingMethods::test_list_hazard_types_alphabetical PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetWarmingMatrix::test_matrix_shape PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetWarmingMatrix::test_matrix_values PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestGetWarmingMatrix::test_matrix_deep_copied PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectAllHazards::test_multiple_hazards PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectAllHazards::test_invalid_hazard_captured_as_error PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestProjectAllHazards::test_empty_baselines_raises PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCompareScenariosOverTime::test_full_matrix PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestCompareScenariosOverTime::test_default_all_scenarios PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestExportImport::test_export_json PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestExportImport::test_export_dict PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestExportImport::test_export_invalid_format_raises PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestExportImport::test_export_empty PASSED [ 86%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestThreadSafety::test_concurrent_projections PASSED [ 87%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestThreadSafety::test_concurrent_warming_calculations PASSED [ 87%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEdgeCases::test_very_high_warming_delta PASSED [ 87%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEdgeCases::test_negative_warming_delta PASSED [ 87%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEdgeCases::test_registry_data_completeness PASSED [ 87%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEdgeCases::test_time_horizon_registry_completeness PASSED [ 87%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEdgeCases::test_hazard_scaling_factors_completeness PASSED [ 87%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEdgeCases::test_projection_id_unique PASSED [ 87%]
tests/unit/climate_hazard_service/test_scenario_projector.py::TestEdgeCases::test_many_projections PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestUtilityFunctions::test_utcnow PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestUtilityFunctions::test_utcnow_iso PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestUtilityFunctions::test_new_uuid PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestUtilityFunctions::test_new_uuid_uniqueness PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestUtilityFunctions::test_compute_hash_deterministic PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestUtilityFunctions::test_compute_hash_different_data PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestUtilityFunctions::test_compute_hash_pydantic_model PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_source_response_defaults PASSED [ 87%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_source_response_custom PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_hazard_data_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_hazard_event_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_risk_index_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_multi_hazard_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_location_comparison_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_scenario_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_asset_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_exposure_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_portfolio_exposure_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_vulnerability_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_report_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_pipeline_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_health_response_defaults PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestResponseModels::test_model_dump PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestServiceInitialization::test_default_init PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestServiceInitialization::test_custom_config PASSED [ 88%]
tests/unit/climate_hazard_service/test_setup.py::TestServiceInitialization::test_injected_provenance PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestServiceInitialization::test_initial_counters PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestServiceInitialization::test_initial_stores_empty PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestServiceInitialization::test_engine_properties PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestLifecycle::test_startup PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestLifecycle::test_startup_idempotent PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestLifecycle::test_shutdown PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestLifecycle::test_shutdown_without_startup PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestSourceOperations::test_register_source PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestSourceOperations::test_register_source_empty_name_raises PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestSourceOperations::test_list_sources_empty PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestSourceOperations::test_list_sources_after_register PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestSourceOperations::test_get_source_found PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestSourceOperations::test_get_source_not_found PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestHazardDataOperations::test_ingest_hazard_data PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestHazardDataOperations::test_query_hazard_data PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestHazardDataOperations::test_list_hazard_events PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestRiskIndexOperations::test_calculate_risk_index PASSED [ 89%]
tests/unit/climate_hazard_service/test_setup.py::TestRiskIndexOperations::test_calculate_multi_hazard PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestRiskIndexOperations::test_compare_locations PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestScenarioOperations::test_project_scenario PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestScenarioOperations::test_list_scenarios PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestAssetOperations::test_register_asset PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestAssetOperations::test_list_assets PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestAssetOperations::test_list_assets_after_register PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestExposureOperations::test_assess_exposure PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestExposureOperations::test_assess_portfolio_exposure PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestVulnerabilityOperations::test_score_vulnerability PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestReportOperations::test_generate_report PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestReportOperations::test_get_report_found PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestReportOperations::test_get_report_not_found PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestPipelineOperations::test_run_pipeline PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestPipelineOperations::test_run_pipeline_with_stages PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestHealthAndStatistics::test_get_health PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestHealthAndStatistics::test_get_health_engine_keys PASSED [ 90%]
tests/unit/climate_hazard_service/test_setup.py::TestHealthAndStatistics::test_get_statistics PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestHealthAndStatistics::test_get_statistics_after_operations PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestHealthAndStatistics::test_get_provenance PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestHealthAndStatistics::test_get_metrics PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestSingletonPattern::test_get_service_creates_singleton PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestSingletonPattern::test_get_service_returns_same_instance PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestSingletonPattern::test_get_service_after_reset PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestSingletonPattern::test_get_service_thread_safe PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestConfigureClimateHazard::test_configure_basic PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestConfigureClimateHazard::test_configure_with_custom_config PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestConfigureClimateHazard::test_configure_sets_singleton PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestConfigureClimateHazard::test_configure_includes_router PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestGetRouter::test_get_router_returns_something PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestGetRouter::test_get_router_without_fastapi PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestFacadeIntegration::test_source_lifecycle PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestFacadeIntegration::test_asset_lifecycle PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestFacadeIntegration::test_full_health_check PASSED [ 91%]
tests/unit/climate_hazard_service/test_setup.py::TestFacadeIntegration::test_provenance_chain_valid PASSED [ 92%]
tests/unit/climate_hazard_service/test_setup.py::TestFacadeIntegration::test_multiple_operations_statistics PASSED [ 92%]
tests/unit/climate_hazard_service/test_setup.py::TestEdgeCases::test_service_with_none_config PASSED [ 92%]
tests/unit/climate_hazard_service/test_setup.py::TestEdgeCases::test_service_with_none_provenance PASSED [ 92%]
tests/unit/climate_hazard_service/test_setup.py::TestEdgeCases::test_register_source_minimal PASSED [ 92%]
tests/unit/climate_hazard_service/test_setup.py::TestEdgeCases::test_ingest_with_defaults PASSED [ 92%]
tests/unit/climate_hazard_service/test_setup.py::TestEdgeCases::test_list_sources_with_filters PASSED [ 92%]
tests/unit/climate_hazard_service/test_setup.py::TestEdgeCases::test_register_asset_minimal PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestHelperFunctions::test_safe_mean_empty PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestHelperFunctions::test_safe_mean_single PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestHelperFunctions::test_safe_mean_multiple PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestHelperFunctions::test_clamp_within_range PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestHelperFunctions::test_clamp_below PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestHelperFunctions::test_clamp_above PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestHelperFunctions::test_clamp_custom_bounds PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_negligible PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_low PASSED [ 92%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_moderate PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_high PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_critical PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_boundary_20 PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_boundary_40 PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_boundary_60 PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_boundary_80 PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_boundary_0 PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_classify_boundary_100 PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_effectiveness_very_high PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_effectiveness_high PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_effectiveness_moderate PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_effectiveness_low PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClassificationFunctions::test_effectiveness_negligible PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestDataModels::test_vulnerability_score_to_dict PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestDataModels::test_sensitivity_profile_to_dict PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestDataModels::test_adaptive_capacity_profile_to_dict PASSED [ 93%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestDataModels::test_residual_risk_to_dict PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestDataModels::test_entity_ranking_to_dict PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestEngineInit::test_default_init PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestEngineInit::test_init_with_exposure_engine PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestEngineInit::test_init_custom_genesis_hash PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestEngineInit::test_default_weights PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_basic_scoring PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_exposure_score_range PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_high_adaptive_reduces_vulnerability PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_high_sensitivity_increases_vulnerability PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_empty_entity_id_raises PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_non_numeric_exposure_raises PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_empty_sensitivity_factors_raises PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_empty_adaptive_indicators_raises PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_sensitivity_not_dict_raises PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_exposure_clamped_above_100 PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_exposure_clamped_below_0 PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_factor_contributions_present PASSED [ 94%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_default_scenario_applied PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_default_time_horizon_applied PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_custom_scenario PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_custom_time_horizon PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_vulnerability_clamped_to_0_100 PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_all_valid_hazard_types PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_score_stored_and_retrievable PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_stats_incremented PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreVulnerability::test_sensitivity_factor_values_clamped PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreSectorVulnerability::test_basic_sector_scoring PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreSectorVulnerability::test_all_valid_sectors PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreSectorVulnerability::test_hazard_sector_multiplier_applied PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreSectorVulnerability::test_empty_sector_raises PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreSectorVulnerability::test_empty_location_raises PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreSectorVulnerability::test_non_numeric_exposure_raises PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreSectorVulnerability::test_sector_factor_contributions PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestScoreSectorVulnerability::test_custom_scenario_and_horizon PASSED [ 95%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateSensitivityProfile::test_basic_profile PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateSensitivityProfile::test_empty_entity_id_raises PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateSensitivityProfile::test_empty_factors_raises PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateSensitivityProfile::test_profile_stored PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateSensitivityProfile::test_profiles_counter_incremented PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetSensitivityProfile::test_existing_profile PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetSensitivityProfile::test_non_existent_profile PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetSensitivityProfile::test_empty_id PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateAdaptiveCapacityProfile::test_basic_profile PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateAdaptiveCapacityProfile::test_empty_entity_id_raises PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateAdaptiveCapacityProfile::test_empty_indicators_raises PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCreateAdaptiveCapacityProfile::test_profile_stored PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetAdaptiveCapacityProfile::test_existing_profile PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetAdaptiveCapacityProfile::test_non_existent_profile PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetAdaptiveCapacityProfile::test_empty_id PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_basic_residual_risk PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_multiple_measures PASSED [ 96%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_zero_effectiveness PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_full_effectiveness PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_non_numeric_score_raises PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_empty_measures_raises PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_non_list_measures_raises PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_effectiveness_clamped PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_entity_id_optional PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_entity_id_provided PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_cost_usd_tracked PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_residual_calc_counter PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_zero_original_score PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestCalculateResidualRisk::test_non_dict_measures_skipped PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestRankEntities::test_basic_ranking PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestRankEntities::test_percentile_values PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestRankEntities::test_single_entity PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestRankEntities::test_empty_list_raises PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestRankEntities::test_non_list_raises PASSED [ 97%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestRankEntities::test_vulnerability_levels_assigned PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestRankEntities::test_ranking_counter_incremented PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetVulnerabilityScore::test_existing_score PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetVulnerabilityScore::test_non_existent_score PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetVulnerabilityScore::test_empty_id PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestListVulnerabilityScores::test_list_all PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestListVulnerabilityScores::test_filter_by_entity PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestListVulnerabilityScores::test_filter_by_hazard PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestListVulnerabilityScores::test_filter_by_level PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestListVulnerabilityScores::test_limit_respected PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetStatistics::test_initial_stats PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetStatistics::test_stats_weights PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestGetStatistics::test_stats_level_distribution PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClear::test_clear_resets_all PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestClear::test_clear_idempotent PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestPublicHelpers::test_get_sector_sensitivity_defaults PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestPublicHelpers::test_get_sector_sensitivity_unknown PASSED [ 98%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestPublicHelpers::test_get_adaptive_capacity_defaults PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestPublicHelpers::test_get_supported_sectors PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestPublicHelpers::test_get_supported_hazard_types PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestPublicHelpers::test_get_vulnerability_levels PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestConstants::test_sector_sensitivity_all_have_5_factors PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestConstants::test_sector_sensitivity_all_default_05 PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestConstants::test_adaptive_capacity_all_default_05 PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestConstants::test_hazard_sector_multipliers_coverage PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestConstants::test_scenario_multipliers PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestConstants::test_time_horizon_multipliers PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestThreadSafety::test_concurrent_scoring PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestThreadSafety::test_concurrent_residual_risk PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestProvenanceTracking::test_score_provenance_hash PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestProvenanceTracking::test_provenance_entries_tracked PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestProvenanceTracking::test_provenance_reset_on_clear PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestProvenanceTracking::test_residual_risk_provenance PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestProvenanceTracking::test_sensitivity_profile_provenance PASSED [ 99%]
tests/unit/climate_hazard_service/test_vulnerability_scorer.py::TestProvenanceTracking::test_adaptive_profile_provenance PASSED [100%]

============================== warnings summary ===============================
greenlang\agents\intelligence\config.py:27
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\intelligence\config.py:27: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class IntelligenceConfig(BaseModel):

greenlang\agents\intelligence\verification.py:74
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\intelligence\verification.py:74: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class NumericClaim(BaseModel):

greenlang\agents\intelligence\verification.py:122
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\intelligence\verification.py:122: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Citation(BaseModel):

greenlang\agents\intelligence\runtime\telemetry.py:27
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\intelligence\runtime\telemetry.py:27: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TelemetryEvent(BaseModel):

greenlang\execution\core\workflow.py:7
  C:\Users\aksha\Code-V1_GreenLang\greenlang\execution\core\workflow.py:7: DeprecationWarning: Importing from greenlang.exceptions is deprecated. Please import from specific submodules: greenlang.exceptions.base, greenlang.exceptions.agent, greenlang.exceptions.workflow, greenlang.exceptions.data, greenlang.exceptions.utils
    from greenlang.exceptions import ValidationError

greenlang\agents\foundation\orchestrator.py:152
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\orchestrator.py:152: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('agents')

greenlang\governance\validation\framework.py:82
  C:\Users\aksha\Code-V1_GreenLang\greenlang\governance\validation\framework.py:82: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Validator(BaseModel):

greenlang\governance\validation\rules.py:35
  C:\Users\aksha\Code-V1_GreenLang\greenlang\governance\validation\rules.py:35: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Rule(BaseModel):

greenlang\schema\compiler\regex_analyzer.py:50
  C:\Users\aksha\Code-V1_GreenLang\greenlang\schema\compiler\regex_analyzer.py:50: DeprecationWarning: module 'sre_parse' is deprecated
    import sre_parse

greenlang\agents\foundation\policy_guard.py:149
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\policy_guard.py:149: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('clearance_level', pre=True)

greenlang\agents\foundation\policy_guard.py:172
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\policy_guard.py:172: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('classification', pre=True)

greenlang\agents\foundation\policy_guard.py:224
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\policy_guard.py:224: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('classification_max', pre=True)

greenlang\agents\foundation\qa_test_harness.py:145
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\qa_test_harness.py:145: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('name')

greenlang\agents\foundation\observability_agent.py:136
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\observability_agent.py:136: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('name')

greenlang\agents\foundation\observability_agent.py:200
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\observability_agent.py:200: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('condition')

greenlang\agents\foundation\observability_agent.py:254
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\observability_agent.py:254: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('operation')

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
====================== 1719 passed, 16 warnings in 7.06s ======================
