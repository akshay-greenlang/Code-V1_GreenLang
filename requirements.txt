# GreenLang Core Requirements
# Security Hardened with Pinned Versions
# Generated: 2025-01-15
# Python >= 3.11 required
# Last Security Audit: 2025-01-15

# =============================================================================
# CORE DEPENDENCIES
# =============================================================================
typer==0.9.0
pydantic==2.5.3
pyyaml==6.0.1
rich==13.7.0
jsonschema==4.21.1
packaging==23.2
python-dotenv==1.0.1
typing-extensions==4.9.0
httpx==0.26.0
requests==2.31.0
networkx==3.2.1
tenacity==8.2.3
psutil==5.9.8

# =============================================================================
# SHARED SERVICES DEPENDENCIES
# =============================================================================

# Factor Broker Service
redis==5.0.1  # Caching layer (license-compliant 24h TTL)
pandas==2.1.4  # Data handling

# Entity MDM Service
sentence-transformers==2.3.1  # Vector embeddings for entity matching
weaviate-client==4.4.1  # Vector database for entity storage
torch==2.1.2  # PyTorch for BERT models
transformers==4.37.2  # BERT re-ranking models
scikit-learn==1.4.0  # ML utilities

# Methodologies Service
scipy==1.12.0  # Statistical distributions for Monte Carlo
numpy==1.26.3  # Numerical computations
matplotlib==3.8.2  # Visualization (optional)
seaborn==0.13.1  # Statistical visualization (optional)

# Agent Templates & Document Processing
openpyxl==3.1.2  # Excel file handling
xlrd==2.0.1  # Legacy Excel support
lxml==5.1.0  # XML parsing
pdfplumber==0.10.3  # PDF text extraction (optional)
reportlab==4.0.9  # PDF generation (optional)

# =============================================================================
# RAG SYSTEM - DOCUMENT PROCESSING
# =============================================================================
PyPDF2==3.0.1  # PDF parsing (primary parser)
beautifulsoup4==4.12.3  # HTML parsing and extraction
python-docx==1.1.0  # Microsoft Word document processing
spacy==3.7.2  # NLP for semantic chunking and entity extraction
# Run after install: python -m spacy download en_core_web_sm

# =============================================================================
# RAG SYSTEM - KNOWLEDGE GRAPH
# =============================================================================
neo4j==5.16.0  # Neo4j graph database driver for knowledge graph storage

# =============================================================================
# RESILIENCE AND FAULT TOLERANCE
# =============================================================================
pybreaker==1.0.2  # Circuit breaker pattern for external service protection

# =============================================================================
# VECTOR DATABASE INTEGRATION
# =============================================================================
chromadb==0.4.22  # ChromaDB for development/local vector storage
pinecone-client==3.0.2  # Pinecone Serverless for production cloud deployment
faiss-cpu==1.7.4  # FAISS for fast local vector similarity search
qdrant-client==1.7.3  # Qdrant vector database (optional)

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================
PyJWT==2.8.0  # JWT token encoding and validation with signature verification
cryptography==42.0.5  # Cryptographic backend for JWT (UPDATED - CVE-2024-0727 fix)

# =============================================================================
# SECURITY - SAFE EXPRESSION EVALUATION
# =============================================================================
simpleeval==0.9.13  # Safe evaluation of Python expressions (replaces eval/exec)

# =============================================================================
# SECURITY NOTES
# =============================================================================
# CRITICAL UPDATES:
# 1. cryptography==42.0.5 - Updated from 42.0.2 to fix CVE-2024-0727 (CVSS 9.1)
#    - OpenSSL DoS vulnerability in PKCS#12 processing
# 2. All dependencies pinned to exact versions (==) to prevent supply chain attacks
# 3. requests==2.31.0 - Latest stable with CVE fixes
# 4. httpx==0.26.0 - Security patches included
# 5. pyyaml==6.0.1 - Security improvements for safe loading
# 6. lxml==5.1.0 - Latest with security patches
#
# AUDIT SCHEDULE:
# - Daily automated scans via GitHub Actions
# - Weekly Dependabot security updates
# - Monthly manual security reviews
# - Quarterly comprehensive audits
#
# For full security audit, see:
# - GreenLang_2030/agent_foundation/SECURITY_AUDIT.md
# - GreenLang_2030/agent_foundation/DEPENDENCY_SECURITY_GUIDE.md
# - GreenLang_2030/agent_foundation/SECURITY_HARDENING_SUMMARY.md
#
# =============================================================================
# INSTALLATION
# =============================================================================
# Production:
#   pip install -r requirements.txt
#
# Development:
#   pip install -e ".[dev,test]"
#
# All Features:
#   pip install -e ".[all]"
#
# With hash verification (maximum security):
#   pip install --require-hashes -r requirements.txt
#
# =============================================================================
# LICENSE COMPLIANCE
# =============================================================================
# All dependencies use permissive licenses (MIT, Apache 2.0, BSD)
# No GPL/LGPL/AGPL dependencies in production
# License audit: 100% compliant for commercial use
#
# =============================================================================
