[mypy]
# Python version (updated to 3.13)
python_version = 3.13

# ==============================================================================
# PHASE 2 COMPLETE: 100% STRICT TYPE SAFETY ENABLED
# ==============================================================================
# All greenlang modules now enforce strict typing globally
# Date: 2025-11-08
# Target: Zero type errors in production code

# Global strict mode - enabled for all greenlang modules
disallow_untyped_defs = True
disallow_incomplete_defs = True
disallow_any_generics = True
warn_return_any = True

# Always enabled for quality
no_implicit_optional = True
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True
strict_optional = True
check_untyped_defs = True
pretty = True

# Error output
show_error_codes = True
show_column_numbers = True
show_error_context = True
color_output = True

# Import discovery
namespace_packages = True
explicit_package_bases = True
ignore_missing_imports = True

# Cache for faster incremental checks
incremental = True
cache_dir = .mypy_cache

# Ignore missing imports for third-party libraries
[mypy-yaml.*]
ignore_missing_imports = True

[mypy-pandas.*]
ignore_missing_imports = True

[mypy-numpy.*]
ignore_missing_imports = True

[mypy-click.*]
ignore_missing_imports = True

[mypy-rich.*]
ignore_missing_imports = True

[mypy-pydantic.*]
ignore_missing_imports = True

[mypy-pytest.*]
ignore_missing_imports = True

[mypy-hypothesis.*]
ignore_missing_imports = True

[mypy-langchain.*]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-anthropic.*]
ignore_missing_imports = True

[mypy-httpx.*]
ignore_missing_imports = True

[mypy-requests.*]
ignore_missing_imports = True

[mypy-aiohttp.*]
ignore_missing_imports = True

[mypy-fastapi.*]
ignore_missing_imports = True

[mypy-uvicorn.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-celery.*]
ignore_missing_imports = True

[mypy-networkx.*]
ignore_missing_imports = True

[mypy-openpyxl.*]
ignore_missing_imports = True

[mypy-jsonschema.*]
ignore_missing_imports = True

# ==============================================================================
# Phase 2: Incremental Type Safety - Per-Module Configuration
# ==============================================================================

# NEW: Modules with strict typing (recently developed)
[mypy-greenlang.agents.async_agent_base]
disallow_untyped_defs = True
disallow_incomplete_defs = True
warn_return_any = True
check_untyped_defs = True

[mypy-greenlang.agents.sync_wrapper]
disallow_untyped_defs = True
disallow_incomplete_defs = True
warn_return_any = True

[mypy-greenlang.agents.fuel_agent_ai_async]
disallow_untyped_defs = True
disallow_incomplete_defs = True
warn_return_any = True

[mypy-greenlang.agents.fuel_agent_ai_sync]
disallow_untyped_defs = True
disallow_incomplete_defs = True

[mypy-greenlang.config.schemas]
disallow_untyped_defs = True
disallow_incomplete_defs = True

[mypy-greenlang.config.manager]
disallow_untyped_defs = True
disallow_incomplete_defs = True

[mypy-greenlang.config.container]
disallow_untyped_defs = True
disallow_incomplete_defs = True

# ==============================================================================
# ALL GREENLANG MODULES: Strict typing enforced globally
# ==============================================================================
# All modules migrated to strict mode as part of Phase 2 completion
[mypy-greenlang.*]
disallow_untyped_defs = True
disallow_incomplete_defs = True
disallow_any_generics = True
warn_return_any = True
check_untyped_defs = True
# Note: Per-module overrides above are maintained for backward compatibility
# but new global defaults apply strict mode to ALL greenlang modules

# Allow gradual typing for test files
[mypy-tests.*]
check_untyped_defs = False
disallow_untyped_defs = False
disallow_incomplete_defs = False

[mypy-examples.*]
check_untyped_defs = False
disallow_untyped_defs = False