[mypy]
# Python version (updated to 3.13)
python_version = 3.13

# Incremental type checking (Phase 2: Type Safety)
# Starting with moderate strictness, will increase as modules are fixed

# Will enable per-module as code is fixed
disallow_untyped_defs = False
disallow_incomplete_defs = False
disallow_any_generics = False
warn_return_any = False

# Always enabled for quality
no_implicit_optional = True
warn_unused_configs = True
warn_redundant_casts = True
warn_unused_ignores = True
strict_optional = True
check_untyped_defs = True
pretty = True

# Error output
show_error_codes = True
show_column_numbers = True
show_error_context = True
color_output = True

# Import discovery
namespace_packages = True
explicit_package_bases = True
ignore_missing_imports = True

# Cache for faster incremental checks
incremental = True
cache_dir = .mypy_cache

# Ignore missing imports for third-party libraries
[mypy-yaml.*]
ignore_missing_imports = True

[mypy-pandas.*]
ignore_missing_imports = True

[mypy-numpy.*]
ignore_missing_imports = True

[mypy-click.*]
ignore_missing_imports = True

[mypy-rich.*]
ignore_missing_imports = True

[mypy-pydantic.*]
ignore_missing_imports = True

[mypy-pytest.*]
ignore_missing_imports = True

[mypy-hypothesis.*]
ignore_missing_imports = True

[mypy-langchain.*]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-anthropic.*]
ignore_missing_imports = True

[mypy-httpx.*]
ignore_missing_imports = True

[mypy-requests.*]
ignore_missing_imports = True

[mypy-aiohttp.*]
ignore_missing_imports = True

[mypy-fastapi.*]
ignore_missing_imports = True

[mypy-uvicorn.*]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-celery.*]
ignore_missing_imports = True

[mypy-networkx.*]
ignore_missing_imports = True

[mypy-openpyxl.*]
ignore_missing_imports = True

[mypy-jsonschema.*]
ignore_missing_imports = True

# ==============================================================================
# Phase 2: Incremental Type Safety - Per-Module Configuration
# ==============================================================================

# NEW: Modules with strict typing (recently developed)
[mypy-greenlang.agents.async_agent_base]
disallow_untyped_defs = True
disallow_incomplete_defs = True
warn_return_any = True
check_untyped_defs = True

[mypy-greenlang.agents.sync_wrapper]
disallow_untyped_defs = True
disallow_incomplete_defs = True
warn_return_any = True

[mypy-greenlang.agents.fuel_agent_ai_async]
disallow_untyped_defs = True
disallow_incomplete_defs = True
warn_return_any = True

[mypy-greenlang.agents.fuel_agent_ai_sync]
disallow_untyped_defs = True
disallow_incomplete_defs = True

[mypy-greenlang.config.schemas]
disallow_untyped_defs = True
disallow_incomplete_defs = True

[mypy-greenlang.config.manager]
disallow_untyped_defs = True
disallow_incomplete_defs = True

[mypy-greenlang.config.container]
disallow_untyped_defs = True
disallow_incomplete_defs = True

# LEGACY: Other modules - gradual typing (will be improved incrementally)
[mypy-greenlang.*]
disallow_untyped_defs = False
disallow_incomplete_defs = False
warn_return_any = False
check_untyped_defs = True

# Allow gradual typing for test files
[mypy-tests.*]
check_untyped_defs = False
disallow_untyped_defs = False
disallow_incomplete_defs = False

[mypy-examples.*]
check_untyped_defs = False
disallow_untyped_defs = False