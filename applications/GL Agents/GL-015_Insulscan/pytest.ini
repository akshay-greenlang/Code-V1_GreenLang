# =============================================================================
# GL-015 INSULSCAN - Pytest Configuration
# =============================================================================
#
# Configuration for the Insulation Scanning & Thermal Assessment Agent test suite.
#
# Usage:
#   pytest                          # Run all tests
#   pytest -m unit                  # Run unit tests only
#   pytest -m integration           # Run integration tests only
#   pytest -m "not slow"            # Skip slow tests
#   pytest --cov=insulscan          # Run with coverage
#
# Author: GL-TestEngineer
# Version: 1.0.0
# =============================================================================

[pytest]
# Test discovery
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Minimum pytest version
minversion = 7.0

# Default options
addopts =
    -v
    --strict-markers
    --tb=short
    -ra

# Async mode for pytest-asyncio
asyncio_mode = auto

# Markers for test categorization
markers =
    unit: Unit tests for individual components
    integration: Integration tests for full pipelines
    golden: Golden master tests for determinism
    chaos: Chaos engineering resilience tests
    property: Property-based invariant tests
    performance: Performance benchmark tests
    compliance: Regulatory compliance tests
    api: API endpoint tests
    slow: Slow running tests (>5 seconds)

# Logging configuration
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(message)s (%(filename)s:%(lineno)s)
log_cli_date_format = %Y-%m-%d %H:%M:%S

# Warnings configuration
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Coverage configuration (used with pytest-cov)
# Run: pytest --cov=insulscan --cov-report=html --cov-fail-under=85

# Timeout for tests (requires pytest-timeout)
# timeout = 300

# =============================================================================
# CI/CD Integration Notes
# =============================================================================
#
# GitHub Actions example:
#
#   - name: Run Unit Tests
#     run: pytest tests/ -m unit --cov=insulscan --cov-report=xml
#
#   - name: Run Integration Tests
#     run: pytest tests/ -m integration
#
#   - name: Upload Coverage
#     uses: codecov/codecov-action@v3
#     with:
#       file: coverage.xml
#
# GitLab CI example:
#
#   test:unit:
#     script:
#       - pytest tests/ -m unit --cov=insulscan --junitxml=report.xml
#     artifacts:
#       reports:
#         junit: report.xml
#
# =============================================================================
