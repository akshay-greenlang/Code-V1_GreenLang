[pytest]
# GL-012 SteamQual Test Configuration
# Author: GL-TestEngineer
# Version: 1.0.0

# Minimum pytest version
minversion = 7.0

# Test discovery
testpaths =
    unit
    integration
    golden

python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Markers
markers =
    unit: Unit tests for individual components
    integration: Integration tests for end-to-end workflows
    golden: Golden master tests for determinism verification
    performance: Performance and benchmark tests
    slow: Slow-running tests (deselect with '-m "not slow"')
    compliance: Regulatory compliance tests
    determinism: Determinism verification tests
    safety: Safety constraint validation tests
    asyncio: Async tests requiring event loop

# Logging
log_cli = true
log_cli_level = INFO
log_cli_format = %(asctime)s [%(levelname)8s] %(name)s: %(message)s
log_cli_date_format = %Y-%m-%d %H:%M:%S

log_file = test_results.log
log_file_level = DEBUG
log_file_format = %(asctime)s [%(levelname)8s] %(name)s (%(filename)s:%(lineno)d): %(message)s

# Output
addopts =
    -v
    --strict-markers
    --tb=short
    --color=yes
    -ra

# Timeout settings (requires pytest-timeout)
timeout = 30
timeout_method = thread

# Coverage settings (requires pytest-cov)
# Uncomment to enable coverage
# addopts = --cov=../calculators --cov=../estimators --cov=../thermodynamics --cov-report=html --cov-fail-under=85

# Async mode (requires pytest-asyncio)
asyncio_mode = auto

# Warnings
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Environment
env =
    PYTHONHASHSEED=42
    GL012_TEST_MODE=true

# Parallel execution (requires pytest-xdist)
# Uncomment for parallel tests
# addopts = -n auto

# Fail fast
# addopts = -x

# Show local variables in tracebacks
# addopts = --showlocals
