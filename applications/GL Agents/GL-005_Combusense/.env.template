# GL-005 CombustionControlAgent - Environment Variables Template
# Copy this file to .env and fill in the actual values
# WARNING: Never commit .env file to version control!

# ============================================================================
# ENVIRONMENT & DEPLOYMENT
# ============================================================================
ENVIRONMENT=production
APP_NAME=GL-005 CombustionControlAgent
APP_VERSION=1.0.0
LOG_LEVEL=INFO
DEBUG=false
TESTING=false

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
HOST=0.0.0.0
PORT=8000
METRICS_PORT=8001
WORKERS=4
RELOAD=false
ACCESS_LOG=true

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/greenlang_gl005
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=3600
DATABASE_ECHO=false

# ============================================================================
# REDIS CONFIGURATION (Caching & Real-time Data)
# ============================================================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
REDIS_MAX_CONNECTIONS=50
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5
REDIS_RETRY_ON_TIMEOUT=true
REDIS_HEALTH_CHECK_INTERVAL=30

# ============================================================================
# AI/ML MODEL CONFIGURATION
# ============================================================================
ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
LLM_MODEL=claude-3-opus-20240229
LLM_TEMPERATURE=0.0
LLM_MAX_TOKENS=4096
LLM_TIMEOUT=30

# ============================================================================
# CONTROL SYSTEM CONFIGURATION
# ============================================================================
# Control Loop Settings
CONTROL_LOOP_INTERVAL_MS=100
MAX_CONTROL_LATENCY_MS=100
CONTROL_STABILITY_WINDOW_S=60

# PID Controller Tuning
PID_KP=1.0
PID_KI=0.1
PID_KD=0.05
PID_SETPOINT_MIN=0.0
PID_SETPOINT_MAX=100.0
PID_OUTPUT_MIN=0.0
PID_OUTPUT_MAX=100.0

# Safety Limits
SAFETY_CHECK_ENABLED=true
EMERGENCY_SHUTDOWN_ENABLED=true
MAX_TEMPERATURE_C=1200
MIN_OXYGEN_PERCENT=2.0
MAX_CO_PPM=400
MAX_PRESSURE_BAR=10.0

# ============================================================================
# MODBUS CONFIGURATION (Boiler/Burner Communication)
# ============================================================================
MODBUS_ENABLED=true
MODBUS_HOST=192.168.1.100
MODBUS_PORT=502
MODBUS_SLAVE_ID=1
MODBUS_TIMEOUT=3
MODBUS_RETRIES=3
MODBUS_RECONNECT_DELAY=5

# ============================================================================
# OPC UA CONFIGURATION (SCADA Integration)
# ============================================================================
OPCUA_ENABLED=true
OPCUA_ENDPOINT=opc.tcp://192.168.1.101:4840
OPCUA_SECURITY_MODE=SignAndEncrypt
OPCUA_SECURITY_POLICY=Basic256Sha256
OPCUA_USERNAME=admin
OPCUA_PASSWORD=password
OPCUA_TIMEOUT=10

# ============================================================================
# MQTT CONFIGURATION (IoT Sensor Integration)
# ============================================================================
MQTT_ENABLED=true
MQTT_BROKER=mqtt.greenlang.io
MQTT_PORT=8883
MQTT_USERNAME=gl005_agent
MQTT_PASSWORD=mqtt_password
MQTT_CLIENT_ID=gl-005-combustion-control
MQTT_QOS=2
MQTT_RETAIN=false
MQTT_KEEPALIVE=60
MQTT_TLS_ENABLED=true

# ============================================================================
# SECURITY & AUTHENTICATION
# ============================================================================
SECRET_KEY=change_this_to_a_random_64_character_string_in_production
JWT_SECRET_KEY=change_this_to_another_random_64_character_string
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
API_KEY_HEADER=X-API-Key
ALLOWED_ORIGINS=https://api.greenlang.io,https://dashboard.greenlang.io
CORS_ENABLED=true

# ============================================================================
# RATE LIMITING
# ============================================================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_PER_HOUR=1000
RATE_LIMIT_BURST=10

# ============================================================================
# CACHING CONFIGURATION
# ============================================================================
CACHE_ENABLED=true
CACHE_TTL_SECONDS=300
CACHE_MAX_SIZE_MB=512
CACHE_EVICTION_POLICY=lru

# ============================================================================
# MONITORING & OBSERVABILITY
# ============================================================================
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=8001
OPENTELEMETRY_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_SERVICE_NAME=gl-005-combustion-control
OTEL_TRACE_SAMPLING_RATE=0.1

# Metrics Collection
METRICS_ENABLED=true
METRICS_INTERVAL_SECONDS=15
METRICS_HISTORY_HOURS=24

# Logging
LOG_FORMAT=json
LOG_FILE=/app/logs/gl005.log
LOG_ROTATION=daily
LOG_RETENTION_DAYS=30
LOG_MAX_SIZE_MB=100

# ============================================================================
# ALERTING CONFIGURATION
# ============================================================================
ALERTS_ENABLED=true
ALERT_EMAIL_ENABLED=true
ALERT_EMAIL_FROM=alerts@greenlang.io
ALERT_EMAIL_TO=ops-team@greenlang.io
ALERT_SMTP_HOST=smtp.greenlang.io
ALERT_SMTP_PORT=587
ALERT_SMTP_USERNAME=alerts
ALERT_SMTP_PASSWORD=smtp_password

ALERT_SLACK_ENABLED=true
ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXX

ALERT_PAGERDUTY_ENABLED=true
ALERT_PAGERDUTY_API_KEY=pagerduty_api_key
ALERT_PAGERDUTY_SERVICE_KEY=pagerduty_service_key

# ============================================================================
# DATA PERSISTENCE
# ============================================================================
DATA_STORAGE_PATH=/app/data
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=6
BACKUP_RETENTION_DAYS=30
BACKUP_S3_ENABLED=false
BACKUP_S3_BUCKET=greenlang-gl005-backups
BACKUP_S3_REGION=us-east-1

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================
MAX_CONCURRENT_REQUESTS=100
REQUEST_TIMEOUT_SECONDS=30
KEEPALIVE_TIMEOUT_SECONDS=5
GRACEFUL_SHUTDOWN_TIMEOUT_SECONDS=30

# Thread Pool Settings
THREAD_POOL_SIZE=10
ASYNC_POOL_SIZE=50

# Memory Limits
MAX_MEMORY_MB=2048
MEMORY_CHECK_INTERVAL_SECONDS=60

# ============================================================================
# FEATURE FLAGS
# ============================================================================
FEATURE_ADVANCED_CONTROL=true
FEATURE_PREDICTIVE_OPTIMIZATION=true
FEATURE_AUTONOMOUS_MODE=true
FEATURE_MULTI_BURNER_COORDINATION=true
FEATURE_EMISSIONS_MONITORING=true
FEATURE_ENERGY_OPTIMIZATION=true

# ============================================================================
# INTEGRATION ENDPOINTS
# ============================================================================
# GL-002 Integration (Boiler Efficiency Optimizer)
GL002_ENDPOINT=http://gl-002-service:8000
GL002_API_KEY=gl002_api_key
GL002_ENABLED=true

# External Weather API
WEATHER_API_ENABLED=true
WEATHER_API_KEY=weather_api_key
WEATHER_API_ENDPOINT=https://api.weather.com/v1

# Energy Price API
ENERGY_PRICE_API_ENABLED=true
ENERGY_PRICE_API_KEY=energy_price_api_key
ENERGY_PRICE_API_ENDPOINT=https://api.energyprices.com/v1

# ============================================================================
# KUBERNETES-SPECIFIC
# ============================================================================
KUBERNETES_NAMESPACE=greenlang
KUBERNETES_SERVICE_NAME=gl-005-combustion-control
KUBERNETES_POD_NAME=${HOSTNAME}

# Health Checks
HEALTH_CHECK_PATH=/api/v1/health
READINESS_CHECK_PATH=/api/v1/ready
LIVENESS_CHECK_PATH=/api/v1/alive

# ============================================================================
# DEVELOPMENT/TESTING ONLY
# ============================================================================
# UNSAFE - Only use in dev/test environments
DEV_MODE=false
MOCK_HARDWARE=false
MOCK_SENSORS=false
BYPASS_SAFETY_CHECKS=false
ENABLE_DEBUG_ENDPOINTS=false
