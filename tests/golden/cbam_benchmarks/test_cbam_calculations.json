{
  "suite": "CBAM Benchmark Calculations",
  "version": "1.0.0",
  "description": "Golden tests for Carbon Border Adjustment Mechanism calculations",
  "tests": [
    {
      "test_id": "CBAM-STEEL-001",
      "description": "Basic oxygen furnace steel - China",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "iron_steel",
        "production_route": "basic_oxygen_furnace",
        "quantity_tonnes": 1000,
        "origin_country": "CN",
        "cn_code": "72061000"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 2100.0,
        "emission_intensity_tco2e_per_tonne": 2.1,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["steel", "bof", "china"]
    },
    {
      "test_id": "CBAM-STEEL-002",
      "description": "Electric arc furnace steel - Turkey",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "iron_steel",
        "production_route": "electric_arc_furnace",
        "quantity_tonnes": 1000,
        "origin_country": "TR",
        "cn_code": "72082700"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 600.0,
        "emission_intensity_tco2e_per_tonne": 0.6,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["steel", "eaf", "turkey"]
    },
    {
      "test_id": "CBAM-STEEL-003",
      "description": "Steel tubes - India",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "iron_steel",
        "production_route": "basic_oxygen_furnace",
        "quantity_tonnes": 500,
        "origin_country": "IN",
        "cn_code": "73051100"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 1050.0,
        "emission_intensity_tco2e_per_tonne": 2.1,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["steel", "tubes", "india"]
    },
    {
      "test_id": "CBAM-ALU-001",
      "description": "Primary aluminum - Russia",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "aluminium",
        "production_route": "primary_smelting",
        "quantity_tonnes": 100,
        "origin_country": "RU",
        "cn_code": "76011000"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 1590.0,
        "emission_intensity_tco2e_per_tonne": 15.9,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["aluminium", "primary", "russia"]
    },
    {
      "test_id": "CBAM-ALU-002",
      "description": "Secondary aluminum - UAE",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "aluminium",
        "production_route": "secondary_remelting",
        "quantity_tonnes": 100,
        "origin_country": "AE",
        "cn_code": "76011000"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 50.0,
        "emission_intensity_tco2e_per_tonne": 0.5,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["aluminium", "secondary", "uae"]
    },
    {
      "test_id": "CBAM-CEM-001",
      "description": "Portland cement - Turkey",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "cement",
        "production_route": "clinker_cement",
        "quantity_tonnes": 10000,
        "origin_country": "TR",
        "cn_code": "25232900"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 8500.0,
        "emission_intensity_tco2e_per_tonne": 0.85,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["cement", "portland", "turkey"]
    },
    {
      "test_id": "CBAM-CEM-002",
      "description": "Grey clinker - Egypt",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "cement",
        "production_route": "clinker",
        "quantity_tonnes": 5000,
        "origin_country": "EG",
        "cn_code": "25231000"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 4550.0,
        "emission_intensity_tco2e_per_tonne": 0.91,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["cement", "clinker", "egypt"]
    },
    {
      "test_id": "CBAM-FERT-001",
      "description": "Ammonia - Ukraine",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "fertilizers",
        "production_route": "ammonia",
        "quantity_tonnes": 1000,
        "origin_country": "UA",
        "cn_code": "28141000"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 2200.0,
        "emission_intensity_tco2e_per_tonne": 2.2,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["fertilizer", "ammonia", "ukraine"]
    },
    {
      "test_id": "CBAM-FERT-002",
      "description": "Urea - Algeria",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "fertilizers",
        "production_route": "urea",
        "quantity_tonnes": 2000,
        "origin_country": "DZ",
        "cn_code": "31021010"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 2600.0,
        "emission_intensity_tco2e_per_tonne": 1.3,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["fertilizer", "urea", "algeria"]
    },
    {
      "test_id": "CBAM-ELEC-001",
      "description": "Electricity import - Morocco",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "electricity",
        "production_route": "grid_mix",
        "quantity_mwh": 10000,
        "origin_country": "MA"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 6500.0,
        "emission_intensity_tco2e_per_mwh": 0.65,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["electricity", "morocco"]
    },
    {
      "test_id": "CBAM-H2-001",
      "description": "Grey hydrogen - Saudi Arabia",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "hydrogen",
        "production_route": "steam_methane_reforming",
        "quantity_tonnes": 100,
        "origin_country": "SA"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 1100.0,
        "emission_intensity_tco2e_per_tonne": 11.0,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["hydrogen", "grey", "saudi"]
    },
    {
      "test_id": "CBAM-H2-002",
      "description": "Green hydrogen - Chile",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "hydrogen",
        "production_route": "electrolysis_renewable",
        "quantity_tonnes": 100,
        "origin_country": "CL"
      },
      "expected_output": {
        "embedded_emissions_tco2e": 0.0,
        "emission_intensity_tco2e_per_tonne": 0.0,
        "cbam_applicable": true
      },
      "tolerance": 0.01,
      "tags": ["hydrogen", "green", "chile"]
    },
    {
      "test_id": "CBAM-BENCH-001",
      "description": "Steel below EU benchmark - qualifies for reduction",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "iron_steel",
        "production_route": "electric_arc_furnace",
        "quantity_tonnes": 1000,
        "origin_country": "TR",
        "declared_emission_intensity": 0.4,
        "verified": true
      },
      "expected_output": {
        "embedded_emissions_tco2e": 400.0,
        "below_benchmark": true,
        "benchmark_value": 1.52
      },
      "tolerance": 0.01,
      "tags": ["steel", "benchmark", "verified"]
    },
    {
      "test_id": "CBAM-BENCH-002",
      "description": "Cement above default - uses default",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "cement",
        "production_route": "clinker_cement",
        "quantity_tonnes": 5000,
        "origin_country": "TR",
        "declared_emission_intensity": 1.2,
        "verified": false
      },
      "expected_output": {
        "use_default_value": true
      },
      "tolerance": 0.01,
      "tags": ["cement", "default", "unverified"]
    },
    {
      "test_id": "CBAM-EXEMPT-001",
      "description": "Country with carbon pricing - Switzerland",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "iron_steel",
        "production_route": "basic_oxygen_furnace",
        "quantity_tonnes": 1000,
        "origin_country": "CH"
      },
      "expected_output": {
        "cbam_applicable": false,
        "exemption_reason": "linked_ets"
      },
      "tolerance": 0.01,
      "tags": ["exempt", "switzerland", "ets"]
    },
    {
      "test_id": "CBAM-EXEMPT-002",
      "description": "Country not CBAM applicable - Norway",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "aluminium",
        "production_route": "primary_smelting",
        "quantity_tonnes": 100,
        "origin_country": "NO"
      },
      "expected_output": {
        "cbam_applicable": false,
        "exemption_reason": "eea_member"
      },
      "tolerance": 0.01,
      "tags": ["exempt", "norway", "eea"]
    },
    {
      "test_id": "CBAM-TRANS-001",
      "description": "Transitional period - reporting only",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "iron_steel",
        "production_route": "basic_oxygen_furnace",
        "quantity_tonnes": 1000,
        "origin_country": "CN",
        "reporting_period": "2024-Q4"
      },
      "expected_output": {
        "cbam_phase": "transitional",
        "certificates_required": 0,
        "reporting_required": true
      },
      "tolerance": 0.01,
      "tags": ["transitional", "reporting"]
    },
    {
      "test_id": "CBAM-CERT-001",
      "description": "Certificate calculation - post-2026",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "cement",
        "production_route": "clinker_cement",
        "quantity_tonnes": 10000,
        "origin_country": "TR",
        "reporting_period": "2026-Q1",
        "eu_ets_price_eur": 80.0
      },
      "expected_output": {
        "cbam_phase": "definitive",
        "embedded_emissions_tco2e": 8500.0,
        "certificates_required": 8500,
        "certificate_value_eur": 680000.0
      },
      "tolerance": 0.01,
      "tags": ["certificates", "definitive", "post_2026"]
    },
    {
      "test_id": "CBAM-INDIRECT-001",
      "description": "Indirect emissions - electricity in steel",
      "tool_name": "calculate_cbam_emissions",
      "input": {
        "product_category": "iron_steel",
        "production_route": "electric_arc_furnace",
        "quantity_tonnes": 1000,
        "origin_country": "IN",
        "include_indirect": true,
        "electricity_consumption_mwh_per_tonne": 0.5
      },
      "expected_output": {
        "direct_emissions_tco2e": 600.0,
        "indirect_emissions_tco2e": 355.0,
        "total_emissions_tco2e": 955.0
      },
      "tolerance": 0.01,
      "tags": ["indirect", "electricity", "scope2"]
    }
  ]
}
