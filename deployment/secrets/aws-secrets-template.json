{
  "_metadata": {
    "description": "AWS Secrets Manager templates for GreenLang Platform INFRA-001",
    "version": "1.0.0",
    "created": "2026-02-03",
    "environments": ["dev", "staging", "prod"],
    "warning": "DO NOT commit actual secret values. This file contains PLACEHOLDER values only."
  },

  "secrets": {
    "greenlang-prod/database": {
      "description": "PostgreSQL database credentials and connection configuration",
      "secret_name": "greenlang-prod/database",
      "tags": {
        "Environment": "prod",
        "Application": "greenlang",
        "Component": "database",
        "ManagedBy": "terraform"
      },
      "secret_value": {
        "connection_string": "postgresql://greenlang_admin:REPLACE_WITH_SECURE_PASSWORD@greenlang-db.cluster-xxxxxxxxxxxx.us-east-1.rds.amazonaws.com:5432/greenlang_prod",
        "host": "greenlang-db.cluster-xxxxxxxxxxxx.us-east-1.rds.amazonaws.com",
        "port": "5432",
        "database": "greenlang_prod",
        "username": "greenlang_admin",
        "password": "REPLACE_WITH_SECURE_PASSWORD_MIN_32_CHARS",
        "ssl_mode": "require",
        "pool_size": "20",
        "max_overflow": "40",
        "connection_timeout": "30",
        "read_replica_host": "greenlang-db-reader.cluster-xxxxxxxxxxxx.us-east-1.rds.amazonaws.com"
      },
      "rotation_config": {
        "rotation_enabled": true,
        "rotation_lambda_arn": "arn:aws:lambda:us-east-1:ACCOUNT_ID:function:greenlang-db-password-rotation",
        "rotation_days": 30
      }
    },

    "greenlang-prod/redis": {
      "description": "Redis/ElastiCache credentials for caching and session management",
      "secret_name": "greenlang-prod/redis",
      "tags": {
        "Environment": "prod",
        "Application": "greenlang",
        "Component": "cache",
        "ManagedBy": "terraform"
      },
      "secret_value": {
        "password": "REPLACE_WITH_SECURE_REDIS_PASSWORD_MIN_32_CHARS",
        "auth_token": "REPLACE_WITH_SECURE_AUTH_TOKEN_64_CHARS",
        "host": "greenlang-redis.xxxxxxxxxxxx.ng.0001.use1.cache.amazonaws.com",
        "port": "6379",
        "ssl_enabled": "true",
        "cluster_mode": "false",
        "sentinel_host": "greenlang-redis-sentinel.xxxxxxxxxxxx.use1.cache.amazonaws.com",
        "sentinel_port": "26379",
        "database": "0",
        "connection_timeout": "5",
        "socket_timeout": "5",
        "max_connections": "100"
      },
      "rotation_config": {
        "rotation_enabled": true,
        "rotation_lambda_arn": "arn:aws:lambda:us-east-1:ACCOUNT_ID:function:greenlang-redis-auth-rotation",
        "rotation_days": 90
      }
    },

    "greenlang-prod/api-keys": {
      "description": "Third-party API keys for AI services and external integrations",
      "secret_name": "greenlang-prod/api-keys",
      "tags": {
        "Environment": "prod",
        "Application": "greenlang",
        "Component": "api-keys",
        "ManagedBy": "terraform",
        "Sensitivity": "high"
      },
      "secret_value": {
        "openai_api_key": "sk-REPLACE_WITH_OPENAI_API_KEY",
        "openai_org_id": "org-REPLACE_WITH_ORG_ID",
        "anthropic_api_key": "sk-ant-REPLACE_WITH_ANTHROPIC_API_KEY",
        "pinecone_api_key": "REPLACE_WITH_PINECONE_API_KEY",
        "pinecone_environment": "us-east-1-aws",
        "pinecone_index_name": "greenlang-embeddings",
        "cohere_api_key": "REPLACE_WITH_COHERE_API_KEY",
        "huggingface_api_key": "hf_REPLACE_WITH_HF_API_KEY",
        "weaviate_api_key": "REPLACE_WITH_WEAVIATE_API_KEY",
        "google_ai_api_key": "REPLACE_WITH_GOOGLE_AI_API_KEY",
        "azure_openai_api_key": "REPLACE_WITH_AZURE_OPENAI_KEY",
        "azure_openai_endpoint": "https://greenlang.openai.azure.com/",
        "sendgrid_api_key": "SG.REPLACE_WITH_SENDGRID_KEY",
        "stripe_api_key": "sk_live_REPLACE_WITH_STRIPE_KEY",
        "stripe_webhook_secret": "whsec_REPLACE_WITH_WEBHOOK_SECRET"
      },
      "rotation_config": {
        "rotation_enabled": false,
        "notes": "API keys require manual rotation through respective service providers"
      }
    },

    "greenlang-prod/runner": {
      "description": "CI/CD runner tokens and container registry credentials",
      "secret_name": "greenlang-prod/runner",
      "tags": {
        "Environment": "prod",
        "Application": "greenlang",
        "Component": "cicd",
        "ManagedBy": "terraform"
      },
      "secret_value": {
        "github_runner_token": "REPLACE_WITH_GITHUB_RUNNER_TOKEN",
        "github_app_id": "REPLACE_WITH_GITHUB_APP_ID",
        "github_app_private_key": "-----BEGIN RSA PRIVATE KEY-----\nREPLACE_WITH_GITHUB_APP_PRIVATE_KEY\n-----END RSA PRIVATE KEY-----",
        "github_webhook_secret": "REPLACE_WITH_WEBHOOK_SECRET",
        "ecr_registry_url": "ACCOUNT_ID.dkr.ecr.us-east-1.amazonaws.com",
        "ecr_access_key_id": "REPLACE_WITH_ECR_ACCESS_KEY",
        "ecr_secret_access_key": "REPLACE_WITH_ECR_SECRET_KEY",
        "ghcr_username": "greenlang-bot",
        "ghcr_token": "ghp_REPLACE_WITH_GHCR_TOKEN",
        "dockerhub_username": "greenlang",
        "dockerhub_token": "dckr_pat_REPLACE_WITH_DOCKERHUB_TOKEN",
        "sonarqube_token": "sqp_REPLACE_WITH_SONARQUBE_TOKEN",
        "codecov_token": "REPLACE_WITH_CODECOV_TOKEN",
        "snyk_token": "REPLACE_WITH_SNYK_TOKEN"
      },
      "rotation_config": {
        "rotation_enabled": true,
        "rotation_lambda_arn": "arn:aws:lambda:us-east-1:ACCOUNT_ID:function:greenlang-runner-token-rotation",
        "rotation_days": 90
      }
    },

    "greenlang-prod/tls": {
      "description": "TLS/SSL certificates and private keys for secure communications",
      "secret_name": "greenlang-prod/tls",
      "tags": {
        "Environment": "prod",
        "Application": "greenlang",
        "Component": "tls",
        "ManagedBy": "terraform",
        "Sensitivity": "critical"
      },
      "secret_value": {
        "domain": "api.greenlang.io",
        "certificate": "-----BEGIN CERTIFICATE-----\nREPLACE_WITH_TLS_CERTIFICATE\n-----END CERTIFICATE-----",
        "private_key": "-----BEGIN PRIVATE KEY-----\nREPLACE_WITH_TLS_PRIVATE_KEY\n-----END PRIVATE KEY-----",
        "certificate_chain": "-----BEGIN CERTIFICATE-----\nREPLACE_WITH_INTERMEDIATE_CERTIFICATE\n-----END CERTIFICATE-----",
        "ca_certificate": "-----BEGIN CERTIFICATE-----\nREPLACE_WITH_CA_CERTIFICATE\n-----END CERTIFICATE-----",
        "wildcard_certificate": "-----BEGIN CERTIFICATE-----\nREPLACE_WITH_WILDCARD_CERTIFICATE\n-----END CERTIFICATE-----",
        "wildcard_private_key": "-----BEGIN PRIVATE KEY-----\nREPLACE_WITH_WILDCARD_PRIVATE_KEY\n-----END PRIVATE KEY-----",
        "internal_ca_certificate": "-----BEGIN CERTIFICATE-----\nREPLACE_WITH_INTERNAL_CA_CERT\n-----END CERTIFICATE-----",
        "internal_ca_private_key": "-----BEGIN PRIVATE KEY-----\nREPLACE_WITH_INTERNAL_CA_KEY\n-----END PRIVATE KEY-----",
        "mtls_client_certificate": "-----BEGIN CERTIFICATE-----\nREPLACE_WITH_MTLS_CLIENT_CERT\n-----END CERTIFICATE-----",
        "mtls_client_key": "-----BEGIN PRIVATE KEY-----\nREPLACE_WITH_MTLS_CLIENT_KEY\n-----END PRIVATE KEY-----"
      },
      "rotation_config": {
        "rotation_enabled": false,
        "notes": "TLS certificates managed via AWS Certificate Manager or Let's Encrypt"
      }
    },

    "greenlang-prod/jwt": {
      "description": "JWT signing keys and authentication secrets",
      "secret_name": "greenlang-prod/jwt",
      "tags": {
        "Environment": "prod",
        "Application": "greenlang",
        "Component": "auth",
        "ManagedBy": "terraform"
      },
      "secret_value": {
        "jwt_secret_key": "REPLACE_WITH_256_BIT_JWT_SECRET_KEY_64_HEX_CHARS",
        "jwt_refresh_secret_key": "REPLACE_WITH_256_BIT_REFRESH_SECRET_KEY",
        "jwt_algorithm": "HS256",
        "jwt_access_token_expire_minutes": "30",
        "jwt_refresh_token_expire_days": "7",
        "rsa_private_key": "-----BEGIN RSA PRIVATE KEY-----\nREPLACE_WITH_RSA_PRIVATE_KEY\n-----END RSA PRIVATE KEY-----",
        "rsa_public_key": "-----BEGIN PUBLIC KEY-----\nREPLACE_WITH_RSA_PUBLIC_KEY\n-----END PUBLIC KEY-----",
        "encryption_key": "REPLACE_WITH_256_BIT_ENCRYPTION_KEY",
        "session_secret": "REPLACE_WITH_SESSION_SECRET_MIN_32_CHARS"
      },
      "rotation_config": {
        "rotation_enabled": true,
        "rotation_lambda_arn": "arn:aws:lambda:us-east-1:ACCOUNT_ID:function:greenlang-jwt-rotation",
        "rotation_days": 90
      }
    },

    "greenlang-prod/monitoring": {
      "description": "Monitoring and observability service credentials",
      "secret_name": "greenlang-prod/monitoring",
      "tags": {
        "Environment": "prod",
        "Application": "greenlang",
        "Component": "monitoring",
        "ManagedBy": "terraform"
      },
      "secret_value": {
        "grafana_admin_user": "admin",
        "grafana_admin_password": "REPLACE_WITH_GRAFANA_PASSWORD",
        "prometheus_basic_auth_password": "REPLACE_WITH_PROMETHEUS_PASSWORD",
        "alertmanager_slack_webhook_url": "https://hooks.slack.com/services/REPLACE/WITH/WEBHOOK",
        "pagerduty_integration_key": "REPLACE_WITH_PAGERDUTY_KEY",
        "datadog_api_key": "REPLACE_WITH_DATADOG_API_KEY",
        "datadog_app_key": "REPLACE_WITH_DATADOG_APP_KEY",
        "newrelic_license_key": "REPLACE_WITH_NEWRELIC_LICENSE_KEY",
        "sentry_dsn": "https://REPLACE@oXXXXXX.ingest.sentry.io/XXXXXX",
        "opsgenie_api_key": "REPLACE_WITH_OPSGENIE_API_KEY"
      },
      "rotation_config": {
        "rotation_enabled": false,
        "notes": "Monitoring credentials rotated during scheduled maintenance windows"
      }
    },

    "greenlang-prod/encryption": {
      "description": "Data encryption keys for at-rest and in-transit encryption",
      "secret_name": "greenlang-prod/encryption",
      "tags": {
        "Environment": "prod",
        "Application": "greenlang",
        "Component": "encryption",
        "ManagedBy": "terraform",
        "Sensitivity": "critical"
      },
      "secret_value": {
        "data_encryption_key": "REPLACE_WITH_256_BIT_DEK",
        "kms_key_id": "arn:aws:kms:us-east-1:ACCOUNT_ID:key/REPLACE-WITH-KMS-KEY-ID",
        "backup_encryption_key": "REPLACE_WITH_BACKUP_ENCRYPTION_KEY",
        "pii_encryption_key": "REPLACE_WITH_PII_ENCRYPTION_KEY",
        "csrd_encryption_key": "REPLACE_WITH_CSRD_ENCRYPTION_KEY",
        "field_level_encryption_key": "REPLACE_WITH_FLE_KEY",
        "key_derivation_salt": "REPLACE_WITH_RANDOM_SALT_32_BYTES"
      },
      "rotation_config": {
        "rotation_enabled": true,
        "rotation_lambda_arn": "arn:aws:lambda:us-east-1:ACCOUNT_ID:function:greenlang-dek-rotation",
        "rotation_days": 365
      }
    }
  },

  "environment_overrides": {
    "dev": {
      "secret_prefix": "greenlang-dev",
      "rotation_enabled": false,
      "tags": {
        "Environment": "dev"
      }
    },
    "staging": {
      "secret_prefix": "greenlang-staging",
      "rotation_enabled": true,
      "rotation_days": 180,
      "tags": {
        "Environment": "staging"
      }
    },
    "prod": {
      "secret_prefix": "greenlang-prod",
      "rotation_enabled": true,
      "tags": {
        "Environment": "prod"
      }
    }
  },

  "kms_configuration": {
    "description": "KMS key for encrypting secrets at rest",
    "key_alias": "alias/greenlang-secrets",
    "key_policy": {
      "enable_key_rotation": true,
      "deletion_window_days": 30,
      "multi_region": false
    }
  },

  "iam_policy": {
    "description": "IAM policy for accessing secrets",
    "policy_name": "greenlang-secrets-access",
    "actions": [
      "secretsmanager:GetSecretValue",
      "secretsmanager:DescribeSecret",
      "kms:Decrypt"
    ],
    "resource_pattern": "arn:aws:secretsmanager:us-east-1:ACCOUNT_ID:secret:greenlang-*"
  }
}
