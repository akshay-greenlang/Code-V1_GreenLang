# =============================================================================
# GreenLang GIS/Mapping Connector Service - Secrets
# =============================================================================
# Placeholder secrets for the GIS/Mapping Connector Service. In production,
# these are managed by External Secrets Operator (ESO) pulling from HashiCorp
# Vault.
# PRD: AGENT-DATA-006
# =============================================================================
# NOTE: These are placeholder values. Real secrets are injected via ESO/Vault.
# See: deployment/kubernetes/external-secrets/ for ESO ClusterSecretStore config.
# Vault path: secret/greenlang/gis-connector-service/*
# =============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: gis-connector-service-secrets
  namespace: greenlang
  labels:
    app: gis-connector-service
    app.kubernetes.io/name: gis-connector-service
    app.kubernetes.io/component: agent-data-006
    app.kubernetes.io/part-of: greenlang
  annotations:
    description: "GIS/Mapping Connector Service secrets - database, Redis, GIS provider API keys"
    prd: AGENT-DATA-006
    # External Secrets Operator annotations
    externalsecrets.io/managed-by: "external-secrets"
    externalsecrets.io/vault-path: "secret/greenlang/gis-connector-service"
    # Vault annotations
    vault.hashicorp.com/agent-inject: "true"
    vault.hashicorp.com/role: "gis-connector-service"
    vault.hashicorp.com/agent-inject-secret-database-url: "secret/greenlang/gis-connector-service/database"
    vault.hashicorp.com/agent-inject-secret-redis-url: "secret/greenlang/gis-connector-service/redis"
type: Opaque
stringData:
  # PostgreSQL connection string
  # Vault path: secret/greenlang/gis-connector-service/database
  DATABASE_URL: "postgresql+asyncpg://gis_connector_svc:CHANGE_ME@greenlang-postgresql.database.svc.cluster.local:5432/greenlang?options=-csearch_path%3Dgis_connector_service"

  # Redis connection string
  # Vault path: secret/greenlang/gis-connector-service/redis
  REDIS_URL: "redis://greenlang-redis.redis.svc.cluster.local:6379/10"

  # GIS provider API keys
  # Vault path: secret/greenlang/gis-connector-service/api-keys
  MAPBOX_API_KEY: "CHANGE_ME_mapbox_api_key"
  GOOGLE_MAPS_API_KEY: "CHANGE_ME_google_maps_api_key"
  ARCGIS_API_KEY: "CHANGE_ME_arcgis_api_key"
  OSM_API_KEY: "CHANGE_ME_osm_api_key"
