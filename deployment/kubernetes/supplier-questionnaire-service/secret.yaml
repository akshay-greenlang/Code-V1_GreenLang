# =============================================================================
# GreenLang Supplier Questionnaire Service - Secrets
# =============================================================================
# Placeholder secrets for the Supplier Questionnaire Service. In production,
# these are managed by External Secrets Operator (ESO) pulling from HashiCorp
# Vault.
# PRD: AGENT-DATA-008
# =============================================================================
# NOTE: These are placeholder values. Real secrets are injected via ESO/Vault.
# See: deployment/kubernetes/external-secrets/ for ESO ClusterSecretStore config.
# Vault path: secret/greenlang/supplier-questionnaire-service/*
# =============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: supplier-questionnaire-service-secrets
  namespace: greenlang
  labels:
    app: supplier-questionnaire-service
    app.kubernetes.io/name: supplier-questionnaire-service
    app.kubernetes.io/component: agent-data-008
    app.kubernetes.io/part-of: greenlang
  annotations:
    description: "Supplier Questionnaire Service secrets - database, Redis, SMTP credentials"
    prd: AGENT-DATA-008
    externalsecrets.io/managed-by: "external-secrets"
    externalsecrets.io/vault-path: "secret/greenlang/supplier-questionnaire-service"
    vault.hashicorp.com/agent-inject: "true"
    vault.hashicorp.com/role: "supplier-questionnaire-service"
    vault.hashicorp.com/agent-inject-secret-database-url: "secret/greenlang/supplier-questionnaire-service/database"
    vault.hashicorp.com/agent-inject-secret-redis-url: "secret/greenlang/supplier-questionnaire-service/redis"
type: Opaque
stringData:
  # PostgreSQL connection string
  # Vault path: secret/greenlang/supplier-questionnaire-service/database
  DATABASE_URL: "postgresql+asyncpg://supplier_quest_svc:CHANGE_ME@greenlang-postgresql.database.svc.cluster.local:5432/greenlang?options=-csearch_path%3Dsupplier_questionnaire_service"

  # Redis connection string
  # Vault path: secret/greenlang/supplier-questionnaire-service/redis
  REDIS_URL: "redis://greenlang-redis.redis.svc.cluster.local:6379/11"

  # SMTP credentials for email distribution
  # Vault path: secret/greenlang/supplier-questionnaire-service/smtp
  SMTP_USERNAME: "CHANGE_ME_smtp_username"
  SMTP_PASSWORD: "CHANGE_ME_smtp_password"
