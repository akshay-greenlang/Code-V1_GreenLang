# =============================================================================
# GreenLang Deforestation Satellite Connector Service - Secrets
# =============================================================================
# Placeholder secrets for the Deforestation Satellite Connector Service. In
# production, these are managed by External Secrets Operator (ESO) pulling
# from HashiCorp Vault.
# PRD: AGENT-DATA-007
# =============================================================================
# NOTE: These are placeholder values. Real secrets are injected via ESO/Vault.
# See: deployment/kubernetes/external-secrets/ for ESO ClusterSecretStore config.
# Vault path: secret/greenlang/deforestation-satellite-service/*
# =============================================================================

apiVersion: v1
kind: Secret
metadata:
  name: deforestation-satellite-service-secrets
  namespace: greenlang
  labels:
    app: deforestation-satellite-service
    app.kubernetes.io/name: deforestation-satellite-service
    app.kubernetes.io/component: data-intake
    app.kubernetes.io/part-of: greenlang
    agent-id: GL-DATA-GEO-003
    component: data-intake
  annotations:
    description: "Deforestation Satellite Connector Service secrets - database, Redis, satellite API keys"
    prd: AGENT-DATA-007
    # External Secrets Operator annotations
    externalsecrets.io/managed-by: "external-secrets"
    externalsecrets.io/vault-path: "secret/greenlang/deforestation-satellite-service"
    # Vault annotations
    vault.hashicorp.com/agent-inject: "true"
    vault.hashicorp.com/role: "deforestation-satellite-service"
    vault.hashicorp.com/agent-inject-secret-database-url: "secret/greenlang/deforestation-satellite-service/database"
    vault.hashicorp.com/agent-inject-secret-redis-url: "secret/greenlang/deforestation-satellite-service/redis"
type: Opaque
stringData:
  # PostgreSQL connection string
  # Vault path: secret/greenlang/deforestation-satellite-service/database
  DATABASE_URL: "postgresql+asyncpg://deforestation_sat_svc:CHANGE_ME@greenlang-postgresql.database.svc.cluster.local:5432/greenlang?options=-csearch_path%3Ddeforestation_satellite_service"

  # Redis connection string
  # Vault path: secret/greenlang/deforestation-satellite-service/redis
  REDIS_URL: "redis://greenlang-redis.redis.svc.cluster.local:6379/11"

  # Global Forest Watch API key
  # Vault path: secret/greenlang/deforestation-satellite-service/api-keys
  GFW_API_KEY: "CHANGE_ME_gfw_api_key"

  # Copernicus Data Space Ecosystem API key
  # Vault path: secret/greenlang/deforestation-satellite-service/api-keys
  COPERNICUS_API_KEY: "CHANGE_ME_copernicus_api_key"
