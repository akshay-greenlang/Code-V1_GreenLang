{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      },
      {
        "datasource": "${datasource}",
        "enable": true,
        "expr": "ALERTS{alertname=~\"OTelCollector.*\", alertstate=\"firing\"}",
        "iconColor": "#FF4444",
        "name": "OTel Collector Alerts",
        "step": "60s",
        "tagKeys": "alertname,severity",
        "titleFormat": "{{ alertname }}",
        "type": "tags"
      }
    ]
  },
  "description": "GreenLang Climate OS - OpenTelemetry Collector Pipeline. Monitors receiver, processor, and exporter health across the OTel Collector fleet. See runbook: docs/runbooks/otel-collector-dropped-spans.md",
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": null,
  "links": [
    {
      "asDropdown": true,
      "icon": "external link",
      "includeVars": true,
      "keepTime": true,
      "tags": ["observability", "greenlang"],
      "targetBlank": true,
      "title": "Observability Dashboards",
      "type": "dashboards"
    },
    {
      "asDropdown": false,
      "icon": "doc",
      "targetBlank": true,
      "title": "Tracing Overview",
      "tooltip": "Open Distributed Tracing Overview dashboard",
      "type": "link",
      "url": "/d/tracing-overview"
    },
    {
      "asDropdown": false,
      "icon": "doc",
      "targetBlank": true,
      "title": "Dropped Spans Runbook",
      "tooltip": "Open OTel Collector Dropped Spans runbook",
      "type": "link",
      "url": "https://docs.greenlang.io/runbooks/otel-collector-dropped-spans"
    }
  ],
  "liveNow": false,
  "panels": [
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 0 },
      "id": 1,
      "title": "Overview",
      "type": "row"
    },
    {
      "datasource": "${datasource}",
      "description": "Total spans accepted by all receivers per second. Drop to zero indicates complete pipeline failure.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 100 },
              { "color": "green", "value": 1000 }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 6, "x": 0, "y": 1 },
      "id": 2,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false },
        "textMode": "auto"
      },
      "title": "Received Spans/sec",
      "type": "stat",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_receiver_accepted_spans{cluster=~\"$cluster\"}[5m]))",
          "legendFormat": "Received",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "Total spans successfully exported to backends (Tempo) per second. Should closely track received spans.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "red", "value": null },
              { "color": "yellow", "value": 100 },
              { "color": "green", "value": 1000 }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 6, "x": 6, "y": 1 },
      "id": 3,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false },
        "textMode": "auto"
      },
      "title": "Exported Spans/sec",
      "type": "stat",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_exporter_sent_spans{cluster=~\"$cluster\"}[5m]))",
          "legendFormat": "Exported",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "Spans dropped by processors (sampling, filtering). Non-zero is expected with tail sampling; sustained high values need review.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 10 },
              { "color": "red", "value": 100 }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 6, "x": 12, "y": 1 },
      "id": 4,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false },
        "textMode": "auto"
      },
      "title": "Dropped Spans/sec",
      "type": "stat",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_processor_dropped_spans{cluster=~\"$cluster\"}[5m]))",
          "legendFormat": "Dropped",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "Exporter queue utilization as percentage of capacity. Above 80% indicates backpressure; 100% means data loss.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "thresholds" },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 60 },
              { "color": "red", "value": 80 }
            ]
          },
          "unit": "percent",
          "decimals": 1
        },
        "overrides": []
      },
      "gridPos": { "h": 4, "w": 6, "x": 18, "y": 1 },
      "id": 5,
      "options": {
        "colorMode": "background",
        "graphMode": "area",
        "justifyMode": "auto",
        "orientation": "auto",
        "reduceOptions": { "calcs": ["lastNotNull"], "fields": "", "values": false },
        "textMode": "auto"
      },
      "title": "Queue Capacity %",
      "type": "stat",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(otelcol_exporter_queue_size{cluster=~\"$cluster\"}) / sum(otelcol_exporter_queue_capacity{cluster=~\"$cluster\"}) * 100",
          "legendFormat": "Queue %",
          "refId": "A"
        }
      ]
    },
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 5 },
      "id": 6,
      "title": "Receivers",
      "type": "row"
    },
    {
      "datasource": "${datasource}",
      "description": "Spans received per second by protocol (otlp/grpc, otlp/http, zipkin, jaeger). Tracks which instrumentation protocols are in use.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "spans/sec",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 15,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "normal" },
            "thresholdsStyle": { "mode": "off" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 6 },
      "id": 7,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Received by Protocol",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_receiver_accepted_spans{cluster=~\"$cluster\"}[5m])) by (receiver)",
          "legendFormat": "{{ receiver }}",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "Spans refused by receivers due to protocol errors, invalid data, or backpressure. Non-zero values require investigation.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "errors/sec",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 20,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "off" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 6 },
      "id": 8,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Receiver Errors",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_receiver_refused_spans{cluster=~\"$cluster\"}[5m])) by (receiver)",
          "legendFormat": "{{ receiver }}",
          "refId": "A"
        }
      ]
    },
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 14 },
      "id": 9,
      "title": "Processors",
      "type": "row"
    },
    {
      "datasource": "${datasource}",
      "description": "Spans accepted by each processor in the pipeline. Shows which processors are active and their throughput.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "spans/sec",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 15,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "off" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 15 },
      "id": 10,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Sampling Decisions",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_processor_accepted_spans{cluster=~\"$cluster\"}[5m])) by (processor)",
          "legendFormat": "{{ processor }}",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "Spans filtered out by processors. Expected with tail-based sampling. Check sampling config if rate is unexpectedly high.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "spans/sec",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 20,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "off" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 8, "x": 8, "y": 15 },
      "id": 11,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Filtered Spans",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_processor_filtered_spans{cluster=~\"$cluster\"}[5m])) by (processor)",
          "legendFormat": "{{ processor }}",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "P95 batch send size. Monitors how many spans are sent per batch. Very small batches are inefficient; very large batches add latency.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "spans/batch",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 15,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "off" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 15 },
      "id": 12,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Batch Send Size (P95)",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "histogram_quantile(0.95, sum(rate(otelcol_processor_batch_batch_send_size_bucket{cluster=~\"$cluster\"}[5m])) by (le))",
          "legendFormat": "P95 batch size",
          "refId": "A"
        }
      ]
    },
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 23 },
      "id": 13,
      "title": "Exporters",
      "type": "row"
    },
    {
      "datasource": "${datasource}",
      "description": "Spans exported per second by target backend. Tracks which exporters are active and their throughput.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "spans/sec",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 15,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "off" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 8, "x": 0, "y": 24 },
      "id": 14,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Exported by Target",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_exporter_sent_spans{cluster=~\"$cluster\"}[5m])) by (exporter)",
          "legendFormat": "{{ exporter }}",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "Failed export attempts per second by exporter. Non-zero values indicate connectivity or backend issues. Triggers alert at sustained rates.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "failures/sec",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 20,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "line" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "red", "value": 1 }
            ]
          },
          "unit": "ops"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 8, "x": 8, "y": 24 },
      "id": 15,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Export Failures",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(rate(otelcol_exporter_send_failed_spans{cluster=~\"$cluster\"}[5m])) by (exporter)",
          "legendFormat": "{{ exporter }}",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "Current exporter queue depth per exporter. Rising queues indicate the backend cannot keep up with incoming span volume.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "items",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 15,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "off" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 8, "x": 16, "y": 24 },
      "id": 16,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Queue Size",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "sum(otelcol_exporter_queue_size{cluster=~\"$cluster\"}) by (exporter)",
          "legendFormat": "{{ exporter }}",
          "refId": "A"
        }
      ]
    },
    {
      "collapsed": false,
      "gridPos": { "h": 1, "w": 24, "x": 0, "y": 32 },
      "id": 17,
      "title": "Collector Health",
      "type": "row"
    },
    {
      "datasource": "${datasource}",
      "description": "OTel Collector process CPU utilization. Sustained values above 80% require scaling the collector deployment.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "CPU cores",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 15,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "line" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 0.6 },
              { "color": "red", "value": 0.8 }
            ]
          },
          "unit": "short"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 12, "x": 0, "y": 33 },
      "id": 18,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "CPU Usage",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "rate(otelcol_process_cpu_seconds{cluster=~\"$cluster\"}[5m])",
          "legendFormat": "{{ pod }}",
          "refId": "A"
        }
      ]
    },
    {
      "datasource": "${datasource}",
      "description": "OTel Collector process RSS memory usage. Monitors memory consumption for capacity planning and OOM prevention.",
      "fieldConfig": {
        "defaults": {
          "color": { "mode": "palette-classic" },
          "custom": {
            "axisCenteredZero": false,
            "axisColorMode": "text",
            "axisLabel": "",
            "axisPlacement": "auto",
            "barAlignment": 0,
            "drawStyle": "line",
            "fillOpacity": 15,
            "gradientMode": "opacity",
            "hideFrom": { "legend": false, "tooltip": false, "viz": false },
            "lineInterpolation": "smooth",
            "lineWidth": 2,
            "pointSize": 5,
            "scaleDistribution": { "type": "linear" },
            "showPoints": "never",
            "spanNulls": true,
            "stacking": { "group": "A", "mode": "none" },
            "thresholdsStyle": { "mode": "line" }
          },
          "mappings": [],
          "thresholds": {
            "mode": "absolute",
            "steps": [
              { "color": "green", "value": null },
              { "color": "yellow", "value": 536870912 },
              { "color": "red", "value": 1073741824 }
            ]
          },
          "unit": "bytes"
        },
        "overrides": []
      },
      "gridPos": { "h": 8, "w": 12, "x": 12, "y": 33 },
      "id": 19,
      "options": {
        "legend": { "calcs": ["mean", "max", "lastNotNull"], "displayMode": "table", "placement": "bottom", "showLegend": true },
        "tooltip": { "mode": "multi", "sort": "desc" }
      },
      "title": "Memory Usage (RSS)",
      "type": "timeseries",
      "targets": [
        {
          "datasource": "${datasource}",
          "expr": "otelcol_process_memory_rss{cluster=~\"$cluster\"}",
          "legendFormat": "{{ pod }}",
          "refId": "A"
        }
      ]
    }
  ],
  "refresh": "30s",
  "schemaVersion": 39,
  "style": "dark",
  "tags": ["otel", "collector", "observability", "obs-003", "greenlang", "opentelemetry"],
  "templating": {
    "list": [
      {
        "current": { "selected": false, "text": "Thanos", "value": "Thanos" },
        "hide": 0,
        "includeAll": false,
        "label": "Datasource",
        "multi": false,
        "name": "datasource",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "allValue": ".*",
        "current": { "selected": true, "text": "All", "value": "$__all" },
        "datasource": "${datasource}",
        "definition": "label_values(otelcol_receiver_accepted_spans, cluster)",
        "hide": 0,
        "includeAll": true,
        "label": "Cluster",
        "multi": true,
        "name": "cluster",
        "options": [],
        "query": "label_values(otelcol_receiver_accepted_spans, cluster)",
        "refresh": 2,
        "regex": "",
        "skipUrlSync": false,
        "sort": 1,
        "type": "query"
      }
    ]
  },
  "time": { "from": "now-3h", "to": "now" },
  "timepicker": {
    "refresh_intervals": ["5s", "10s", "30s", "1m", "5m", "15m", "30m", "1h"],
    "time_options": ["5m", "15m", "1h", "3h", "6h", "12h", "24h", "2d", "7d"]
  },
  "timezone": "utc",
  "title": "OTel Collector Pipeline",
  "uid": "otel-collector",
  "version": 1
}
