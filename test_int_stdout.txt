============================= test session starts =============================
collecting ... collected 108 items

tests/integration/climate_hazard_service/test_end_to_end.py::TestEndToEndWorkflow::test_e2e_climate_risk_assessment_for_single_facility PASSED [  0%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestEndToEndWorkflow::test_e2e_multiple_sources_same_location PASSED [  1%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestEndToEndWorkflow::test_e2e_iterative_risk_refinement PASSED [  2%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestEndToEndWorkflow::test_e2e_source_to_query_roundtrip PASSED [  3%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestMultiHazardAssessment::test_multi_hazard_risk_calculation PASSED [  4%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestMultiHazardAssessment::test_multi_hazard_with_all_types PASSED [  5%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestMultiHazardAssessment::test_multi_hazard_different_scenarios PASSED [  6%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestMultiHazardAssessment::test_multi_hazard_single_type_degenerates PASSED [  7%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestMultiHazardAssessment::test_multi_hazard_compound_hazard PASSED [  8%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestPortfolioExposureAssessment::test_portfolio_exposure_single_asset PASSED [  9%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestPortfolioExposureAssessment::test_portfolio_exposure_multiple_assets PASSED [ 10%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestPortfolioExposureAssessment::test_portfolio_exposure_different_hazards PASSED [ 11%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestPortfolioExposureAssessment::test_portfolio_exposure_empty_asset_list PASSED [ 12%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestPortfolioExposureAssessment::test_portfolio_assets_listed_after_registration PASSED [ 12%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestPortfolioExposureAssessment::test_portfolio_assets_filtered_by_type PASSED [ 13%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_tcfd_report_json PASSED [ 14%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_csrd_report_json PASSED [ 15%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_eu_taxonomy_report PASSED [ 16%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_physical_risk_report PASSED [ 17%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_transition_risk_report PASSED [ 18%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_portfolio_summary_report PASSED [ 19%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_hotspot_analysis_report PASSED [ 20%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_compliance_summary_report PASSED [ 21%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_report_csv_format PASSED [ 22%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_generate_report_markdown_format PASSED [ 23%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_report_retrieval_by_id PASSED [ 24%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_report_not_found_returns_none PASSED [ 25%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_multiple_reports_independent_ids PASSED [ 25%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestComplianceReportGeneration::test_report_with_parameters PASSED [ 26%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestTCFDScenarios::test_tcfd_governance_data_flow PASSED [ 27%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestTCFDScenarios::test_tcfd_strategy_scenario_analysis PASSED [ 28%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestTCFDScenarios::test_tcfd_risk_management_workflow PASSED [ 29%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestTCFDScenarios::test_tcfd_metrics_and_targets PASSED [ 30%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestCSRDScenarios::test_csrd_e1_climate_change_disclosure PASSED [ 31%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestCSRDScenarios::test_csrd_double_materiality_assessment PASSED [ 32%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestCSRDScenarios::test_csrd_multi_location_eu_operations PASSED [ 33%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestLocationComparison::test_compare_two_locations PASSED [ 34%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestLocationComparison::test_compare_multiple_locations PASSED [ 35%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestLocationComparison::test_compare_locations_different_hazards PASSED [ 36%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestScenarioProjectionWorkflow::test_project_all_ssp_scenarios PASSED [ 37%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestScenarioProjectionWorkflow::test_project_all_time_horizons PASSED [ 37%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestScenarioProjectionWorkflow::test_list_scenarios_filtered PASSED [ 38%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestScenarioProjectionWorkflow::test_list_scenarios_filtered_by_horizon PASSED [ 39%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestSourceManagementWorkflow::test_register_multiple_source_types PASSED [ 40%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestSourceManagementWorkflow::test_source_registration_requires_name PASSED [ 41%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestSourceManagementWorkflow::test_list_sources_pagination PASSED [ 42%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestSourceManagementWorkflow::test_get_nonexistent_source_returns_none PASSED [ 43%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestVulnerabilityScoringWorkflow::test_vulnerability_across_sectors PASSED [ 44%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestVulnerabilityScoringWorkflow::test_vulnerability_provenance_unique PASSED [ 45%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestCrossCuttingProvenance::test_provenance_chain_integrity_after_workflow PASSED [ 46%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestCrossCuttingProvenance::test_provenance_entry_count_increments PASSED [ 47%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestCrossCuttingProvenance::test_provenance_hash_is_sha256 PASSED [ 48%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestHealthCheckEndToEnd::test_health_check_structure PASSED [ 49%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestHealthCheckEndToEnd::test_health_check_engines_enumerated PASSED [ 50%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestHealthCheckEndToEnd::test_health_check_valid_statuses PASSED [ 50%]
tests/integration/climate_hazard_service/test_end_to_end.py::TestHealthCheckEndToEnd::test_health_check_provenance_chain_valid PASSED [ 51%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_step1_register_source PASSED [ 52%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_step2_ingest_hazard_data PASSED [ 53%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_step3_calculate_risk_index PASSED [ 54%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_step4_project_scenario PASSED [ 55%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_step5_register_asset PASSED [ 56%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_step6_assess_exposure PASSED [ 57%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_step7_score_vulnerability PASSED [ 58%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_step8_generate_report PASSED [ 59%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestCompletePipelineFlow::test_full_sequential_workflow PASSED [ 60%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineEngineRun::test_pipeline_single_asset_single_hazard PASSED [ 61%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineEngineRun::test_pipeline_multi_asset_multi_hazard PASSED [ 62%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineEngineRun::test_pipeline_with_explicit_scenarios PASSED [ 62%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineEngineRun::test_pipeline_with_explicit_time_horizons PASSED [ 63%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineEngineRun::test_pipeline_with_explicit_frameworks PASSED [ 64%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineEngineRun::test_pipeline_default_scenarios_applied PASSED [ 65%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineEngineRun::test_pipeline_default_frameworks_applied PASSED [ 66%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStageSelection::test_pipeline_subset_stages_ingest_only PASSED [ 67%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStageSelection::test_pipeline_subset_stages_ingest_index PASSED [ 68%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStageSelection::test_pipeline_subset_stages_report_audit PASSED [ 69%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStageSelection::test_pipeline_all_seven_stages PASSED [ 70%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStageSelection::test_pipeline_stage_timings_recorded PASSED [ 71%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStageSelection::test_pipeline_evaluation_summary_present PASSED [ 72%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineErrorHandling::test_pipeline_empty_assets_raises_value_error PASSED [ 73%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineErrorHandling::test_pipeline_empty_hazard_types_raises_value_error PASSED [ 74%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineErrorHandling::test_pipeline_partial_stage_failure_continues PASSED [ 75%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineErrorHandling::test_pipeline_status_reflects_failures PASSED [ 75%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineErrorHandling::test_pipeline_failed_stages_tracked PASSED [ 76%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStatistics::test_pipeline_run_persisted PASSED [ 77%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStatistics::test_pipeline_statistics_increment PASSED [ 78%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStatistics::test_pipeline_multiple_runs_accumulate PASSED [ 79%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStatistics::test_pipeline_total_duration_tracked PASSED [ 80%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStatistics::test_pipeline_health_check PASSED [ 81%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineStatistics::test_pipeline_nonexistent_run_returns_none PASSED [ 82%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineProvenance::test_pipeline_provenance_hash_present PASSED [ 83%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineProvenance::test_pipeline_unique_provenance_per_run PASSED [ 84%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestPipelineProvenance::test_pipeline_provenance_chain_valid PASSED [ 85%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestBatchPipeline::test_batch_pipeline_single_portfolio PASSED [ 86%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestBatchPipeline::test_batch_pipeline_multiple_portfolios PASSED [ 87%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestBatchPipeline::test_batch_pipeline_empty_portfolios_raises PASSED [ 87%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestBatchPipeline::test_batch_pipeline_empty_hazards_raises PASSED [ 88%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestBatchPipeline::test_batch_pipeline_summary_present PASSED [ 89%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestBatchPipeline::test_batch_pipeline_provenance_hash_present PASSED [ 90%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestServicePipelineDelegation::test_service_run_pipeline PASSED [ 91%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestServicePipelineDelegation::test_service_pipeline_statistics_update PASSED [ 92%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestServicePipelineDelegation::test_service_health_check_after_pipeline PASSED [ 93%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestStatisticsAfterPipeline::test_statistics_zero_initial PASSED [ 94%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestStatisticsAfterPipeline::test_statistics_after_source_registration PASSED [ 95%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestStatisticsAfterPipeline::test_statistics_after_data_ingestion PASSED [ 96%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestStatisticsAfterPipeline::test_statistics_after_risk_calculation PASSED [ 97%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestStatisticsAfterPipeline::test_statistics_after_asset_registration PASSED [ 98%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestStatisticsAfterPipeline::test_statistics_after_report_generation PASSED [ 99%]
tests/integration/climate_hazard_service/test_full_pipeline.py::TestStatisticsAfterPipeline::test_metrics_include_provenance PASSED [100%]

============================== warnings summary ===============================
greenlang\agents\intelligence\config.py:27
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\intelligence\config.py:27: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class IntelligenceConfig(BaseModel):

greenlang\agents\intelligence\verification.py:74
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\intelligence\verification.py:74: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class NumericClaim(BaseModel):

greenlang\agents\intelligence\verification.py:122
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\intelligence\verification.py:122: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Citation(BaseModel):

greenlang\agents\intelligence\runtime\telemetry.py:27
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\intelligence\runtime\telemetry.py:27: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class TelemetryEvent(BaseModel):

greenlang\execution\core\workflow.py:7
  C:\Users\aksha\Code-V1_GreenLang\greenlang\execution\core\workflow.py:7: DeprecationWarning: Importing from greenlang.exceptions is deprecated. Please import from specific submodules: greenlang.exceptions.base, greenlang.exceptions.agent, greenlang.exceptions.workflow, greenlang.exceptions.data, greenlang.exceptions.utils
    from greenlang.exceptions import ValidationError

greenlang\agents\foundation\orchestrator.py:152
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\orchestrator.py:152: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('agents')

greenlang\governance\validation\framework.py:82
  C:\Users\aksha\Code-V1_GreenLang\greenlang\governance\validation\framework.py:82: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Validator(BaseModel):

greenlang\governance\validation\rules.py:35
  C:\Users\aksha\Code-V1_GreenLang\greenlang\governance\validation\rules.py:35: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    class Rule(BaseModel):

greenlang\schema\compiler\regex_analyzer.py:50
  C:\Users\aksha\Code-V1_GreenLang\greenlang\schema\compiler\regex_analyzer.py:50: DeprecationWarning: module 'sre_parse' is deprecated
    import sre_parse

greenlang\agents\foundation\policy_guard.py:149
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\policy_guard.py:149: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('clearance_level', pre=True)

greenlang\agents\foundation\policy_guard.py:172
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\policy_guard.py:172: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('classification', pre=True)

greenlang\agents\foundation\policy_guard.py:224
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\policy_guard.py:224: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('classification_max', pre=True)

greenlang\agents\foundation\qa_test_harness.py:145
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\qa_test_harness.py:145: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('name')

greenlang\agents\foundation\observability_agent.py:136
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\observability_agent.py:136: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('name')

greenlang\agents\foundation\observability_agent.py:200
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\observability_agent.py:200: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('condition')

greenlang\agents\foundation\observability_agent.py:254
  C:\Users\aksha\Code-V1_GreenLang\greenlang\agents\foundation\observability_agent.py:254: PydanticDeprecatedSince20: Pydantic V1 style `@validator` validators are deprecated. You should migrate to Pydantic V2 style `@field_validator` validators, see the migration guide for more details. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/
    @validator('operation')

-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html
====================== 108 passed, 16 warnings in 0.72s =======================
