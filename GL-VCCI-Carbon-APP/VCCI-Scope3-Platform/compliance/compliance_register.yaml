# Compliance Register
# GL-VCCI Scope 3 Platform - Master Compliance Tracking
#
# Version: 1.0.0
# Date: January 2025
# Purpose: Track compliance obligations across all standards and regulations

# ============================================================================
# DOCUMENT METADATA
# ============================================================================
metadata:
  name: "Compliance Register"
  version: "1.0.0"
  type: "compliance_tracking"
  category: "regulatory_compliance"

  description: >
    Master register of all compliance obligations for GL-VCCI Scope 3 platform.
    Tracks requirements, implementation status, evidence, and responsible parties
    across GHG Protocol, ESRS, CDP, IFRS S2, ISO 14083, SOC 2, GDPR, CCPA.

  purpose: >
    Centralized compliance tracking to ensure:
    - No compliance obligations missed
    - Audit readiness (SOC 2, ESRS, CDP)
    - Risk mitigation (regulatory penalties, customer churn)
    - Continuous compliance monitoring

  scope:
    standards_covered:
      - "GHG Protocol Scope 3 Standard (2011)"
      - "ESRS (EU CSRD) - Environmental, Social, Governance"
      - "CDP Climate Change Questionnaire 2024+"
      - "IFRS S2 Climate-related Disclosures (2023)"
      - "ISO 14083:2023 (Transport emissions)"
      - "SOC 2 Type II (Security, Availability, Confidentiality, Privacy, Processing Integrity)"
      - "GDPR (General Data Protection Regulation)"
      - "CCPA (California Consumer Privacy Act)"

    geographies:
      - "EU (ESRS, GDPR mandatory)"
      - "Global (GHG Protocol, IFRS S2 baseline)"
      - "US (CDP, CCPA, SOC 2)"

  review_frequency:
    compliance_register: "Quarterly (Jan, Apr, Jul, Oct)"
    regulatory_monitoring: "Monthly (track new regulations)"
    risk_assessment: "Annually"

# ============================================================================
# COMPLIANCE STATUS LEGEND
# ============================================================================
status_legend:
  not_started:
    code: "NS"
    description: "Requirement identified, implementation not started"
    color: "red"

  in_progress:
    code: "IP"
    description: "Implementation in progress, partial compliance"
    color: "yellow"

  completed:
    code: "C"
    description: "Fully implemented, evidence collected"
    color: "green"

  not_applicable:
    code: "N/A"
    description: "Requirement not applicable to GL-VCCI platform"
    color: "gray"

# ============================================================================
# GHG PROTOCOL SCOPE 3 STANDARD (2011)
# ============================================================================
ghg_protocol_compliance:
  standard_name: "GHG Protocol Scope 3 Standard (2011)"
  issuing_body: "World Resources Institute (WRI) & World Business Council for Sustainable Development (WBCSD)"
  applicability: "Mandatory for Scope 3 emissions reporting"
  effective_date: "2011 (current version)"
  website: "https://ghgprotocol.org/standards/scope-3-standard"

  requirements:
    # Requirement 1: Category Coverage
    - requirement_id: "GHG-001"
      requirement: "Calculate emissions for all 15 Scope 3 categories (or justify exclusions)"
      chapter: "Chapter 4: Identifying Scope 3 Emissions"

      implementation:
        status: "IP"  # In Progress
        ga_status: "Partial (Cat 1, 4, 6 at GA)"
        post_ga_roadmap: "Cat 2, 3, 5, 7-15 post-GA (Month 12+)"

        categories_at_ga:
          - "Category 1: Purchased Goods and Services (70% of Scope 3)"
          - "Category 4: Upstream Transportation & Distribution (10-15%)"
          - "Category 6: Business Travel (5-10%)"

        categories_post_ga:
          - "Category 2: Capital Goods (Month 12)"
          - "Category 3: Fuel & Energy (Month 13-15)"
          - "Category 5: Waste (Month 13-15)"
          - "Category 7-15: Specialized categories (Month 16-24)"

      responsible_party: "LCA Specialist"
      target_completion: "Week 44 (GA for Cat 1, 4, 6), Month 24 (all categories)"

      evidence:
        - "Scope3CalculatorAgent: Cat 1, 4, 6 calculations (Week 10-14)"
        - "Justification memo: Cat 2, 3, 5, 7-15 deferred (documented in reports)"
        - "Post-GA roadmap: Remaining categories timeline"

    # Requirement 2: Calculation Methods (Tiered Approach)
    - requirement_id: "GHG-002"
      requirement: "Use tiered calculation approach (Tier 1: Supplier-specific, Tier 2: Average-data, Tier 3: Spend-based)"
      chapter: "Chapter 6: Collecting Data"

      implementation:
        status: "C"  # Completed (for Cat 1, 4, 6)
        tier_1: "PCF Exchange (PACT Pathfinder, Catena-X, SAP SDX)"
        tier_2: "Factor Broker (ecoinvent, DESNZ, EPA)"
        tier_3: "Economic intensity factors (Factor Broker)"

      responsible_party: "Lead Architect + LCA Specialist"
      target_completion: "Week 14 (completed)"

      evidence:
        - "Policy Engine: OPA policies (Tier 1/2/3 waterfall logic)"
        - "PCF Exchange spec: PACT Pathfinder v2.0 integration"
        - "Factor Broker spec: Multi-source factor resolution"

    # Requirement 3: Data Quality Assessment
    - requirement_id: "GHG-003"
      requirement: "Assess and disclose data quality using pedigree matrix or similar"
      chapter: "Chapter 7: Allocating Emissions"

      implementation:
        status: "C"  # Completed
        method: "ILCD Pedigree Matrix (5 dimensions: Reliability, Completeness, Temporal, Geographical, Technological)"
        dqi_scoring: "1 (worst) to 5 (best)"

      responsible_party: "LCA Specialist + Data Engineer"
      target_completion: "Week 6 (completed)"

      evidence:
        - "Methodologies catalog: ILCD pedigree matrices"
        - "DQI calculation in every emissions result (provenance chain)"
        - "Data quality dashboard (Grafana)"

    # Requirement 4: Uncertainty Quantification
    - requirement_id: "GHG-004"
      requirement: "Quantify and disclose uncertainty in emissions estimates"
      chapter: "Chapter 8: Reporting Guidance"

      implementation:
        status: "C"  # Completed
        method: "Monte Carlo simulation (10,000 iterations)"
        output_format: "Mean, std dev, p5, p95, uncertainty range (±X%)"

      responsible_party: "LCA Specialist + Backend Engineers"
      target_completion: "Week 14 (completed)"

      evidence:
        - "Monte Carlo engine (Python/NumPy)"
        - "Uncertainty propagation in calculation results"
        - "Example output: '1,850 tCO2e ±15% (p5: 1,573, p95: 2,128)'"

    # Requirement 5: Boundary and Scope Definition
    - requirement_id: "GHG-005"
      requirement: "Define organizational and operational boundaries"
      chapter: "Chapter 3: Business Goals and Inventory Design"

      implementation:
        status: "C"  # Completed
        organizational_boundary: "Defined by customer (equity share or operational control)"
        operational_boundary: "Scope 3 only (Scope 1/2 excluded from VCCI platform)"

      responsible_party: "Data PM + LCA Specialist"
      target_completion: "Week 2 (completed)"

      evidence:
        - "PRD: Scope definition (Scope 3 focus)"
        - "Customer onboarding: Organizational boundary questionnaire"

  compliance_summary:
    total_requirements: 5
    completed: 4
    in_progress: 1
    not_started: 0
    compliance_percentage: 80  # 4/5 = 80%

# ============================================================================
# ESRS (EU CSRD) COMPLIANCE
# ============================================================================
esrs_compliance:
  standard_name: "European Sustainability Reporting Standards (ESRS)"
  regulation: "EU Corporate Sustainability Reporting Directive (CSRD)"
  issuing_body: "European Financial Reporting Advisory Group (EFRAG)"
  applicability: "50,000+ EU companies (large companies, listed SMEs)"
  effective_date: "2024 (phased rollout: 2024-2028)"
  website: "https://www.efrag.org/lab6"

  requirements:
    # Requirement 1: ESRS E1-6 (GHG Emissions Disclosure)
    - requirement_id: "ESRS-001"
      requirement: "Disclose Scope 1, 2, 3 GHG emissions (ESRS E1-6)"
      disclosure: "ESRS E1-6: Gross Scopes 1, 2, 3 and Total GHG emissions"

      implementation:
        status: "IP"  # In Progress (Scope 3 only)
        scope_1: "N/A (not in VCCI platform)"
        scope_2: "N/A (not in VCCI platform)"
        scope_3: "C (completed for Cat 1, 4, 6)"

        data_points:
          - "AR 44: Total Scope 3 GHG emissions (tCO2e)"
          - "AR 44a-o: Scope 3 emissions by category (1-15)"
          - "AR 47: % of Scope 3 calculated using supplier-specific data"

      responsible_party: "Scope3ReportingAgent + LCA Specialist"
      target_completion: "Week 18 (reporting agent)"

      evidence:
        - "ESRS XBRL export module (python-xbrl library)"
        - "AR 44 data point auto-population (Cat 1, 4, 6)"
        - "AR 47 mapping to PCF Exchange coverage metric"

    # Requirement 2: ESRS E1-9 (Anticipated Financial Effects)
    - requirement_id: "ESRS-002"
      requirement: "Disclose anticipated financial effects from climate risks and opportunities"
      disclosure: "ESRS E1-9: Anticipated financial effects from material physical and transition risks"

      implementation:
        status: "IP"  # In Progress (partial support)
        vcci_support: "Provides emissions intensity, abatement costs as inputs"
        customer_responsibility: "Financial modeling (carbon pricing scenarios, ROI analysis)"

      responsible_party: "HotspotAnalysisAgent + Data PM"
      target_completion: "Week 16 (Hotspot agent)"

      evidence:
        - "Abatement cost curves ($/tCO2e reduction potential)"
        - "Carbon pricing scenario templates (customer fills financial assumptions)"

    # Requirement 3: ESRS E1-1 (Transition Plan)
    - requirement_id: "ESRS-003"
      requirement: "Disclose transition plan for climate change mitigation"
      disclosure: "ESRS E1-1: Transition plan for climate change mitigation"

      implementation:
        status: "IP"  # In Progress (tools provided, narrative required)
        vcci_support: "Emissions reduction potential from HotspotAnalysisAgent"
        customer_responsibility: "Strategic narrative (board-level decision)"

      responsible_party: "Data PM + Customer Success"
      target_completion: "Week 16 (Hotspot agent tools)"

      evidence:
        - "Scenario modeling: Supplier switching, modal shift, product substitution"
        - "Abatement roadmap templates (customer customizes)"

    # Requirement 4: ESRS Data Quality and Uncertainty
    - requirement_id: "ESRS-004"
      requirement: "Disclose data quality, calculation methodologies, and uncertainty"
      disclosure: "ESRS 2 BP-2: Disclosures in relation to specific circumstances"

      implementation:
        status: "C"  # Completed
        dqi_reporting: "DQI score (1-5) for each calculation"
        uncertainty_reporting: "Monte Carlo ± range for all emissions"
        methodology_disclosure: "Tier 1/2/3 methods, GWP standard (AR5/AR6)"

      responsible_party: "LCA Specialist + Scope3ReportingAgent"
      target_completion: "Week 18 (reporting agent)"

      evidence:
        - "DQI calculation in provenance chain"
        - "Uncertainty quantification (Monte Carlo output)"
        - "Methodology disclosure templates"

  compliance_summary:
    total_requirements: 4
    completed: 1
    in_progress: 3
    not_started: 0
    compliance_percentage: 25  # 1/4 = 25% (full implementation), 100% for Scope 3 component

# ============================================================================
# CDP CLIMATE CHANGE COMPLIANCE
# ============================================================================
cdp_compliance:
  standard_name: "CDP Climate Change Questionnaire"
  issuing_body: "CDP (formerly Carbon Disclosure Project)"
  applicability: "18,000+ companies report annually (investor-requested)"
  reporting_year: "2024+"
  website: "https://www.cdp.net/en"

  requirements:
    # Requirement 1: C6.5 (Scope 3 Emissions by Category)
    - requirement_id: "CDP-001"
      requirement: "Disclose Scope 3 emissions breakdown by category (C6.5a)"
      section: "C6.5: Account for your organization's gross global Scope 3 emissions"

      implementation:
        status: "C"  # Completed (for Cat 1, 4, 6)
        auto_population: "C6.5a: Emissions by category (Cat 1, 4, 6)"
        auto_population_percentage: 40  # 40% of CDP questionnaire auto-populated

      responsible_party: "Scope3ReportingAgent"
      target_completion: "Week 18 (reporting agent)"

      evidence:
        - "CDP Excel export template (C6.5a auto-populated)"
        - "Cat 1, 4, 6 emissions data"

    # Requirement 2: C6.5b (Calculation Methodology)
    - requirement_id: "CDP-002"
      requirement: "Disclose calculation methodology for each category (C6.5b)"
      section: "C6.5b: Calculation methodology"

      implementation:
        status: "C"  # Completed
        category_1: "Hybrid method (Tier 1 + Tier 2 + Tier 3)"
        category_4: "Distance-based method (ISO 14083 conformant)"
        category_6: "Distance-based method (flights, ground transport)"

      responsible_party: "Policy Engine + Scope3ReportingAgent"
      target_completion: "Week 18 (reporting agent)"

      evidence:
        - "OPA policies (calculation formulas)"
        - "Methodology disclosure in CDP export"

    # Requirement 3: C6.5c (Supplier-Specific Data Percentage)
    - requirement_id: "CDP-003"
      requirement: "Disclose % of emissions calculated using supplier-specific data (C6.5c)"
      section: "C6.5c: Percentage of emissions calculated using data obtained from suppliers"

      implementation:
        status: "C"  # Completed
        calculation: "(Tier 1 emissions / Total Scope 3 emissions) × 100"
        target: "≥30% by Q2 post-launch (PCF Exchange network effects)"

      responsible_party: "PCF Exchange + Scope3ReportingAgent"
      target_completion: "Week 18 (reporting agent), Q2 post-launch (30% target)"

      evidence:
        - "PCF Exchange coverage metric (real-time tracking)"
        - "C6.5c auto-population from PCF coverage"

    # Requirement 4: C6.5d (Exclusions Explanation)
    - requirement_id: "CDP-004"
      requirement: "Explain reasons for excluding categories (C6.5d)"
      section: "C6.5d: Please explain the reasons for any exclusions"

      implementation:
        status: "C"  # Completed
        exclusion_rationale: >
          "Categories 2, 3, 5, 7-15 excluded from this reporting period.
          VCCI platform currently covers Cat 1, 4, 6 (85-95% of typical
          Scope 3 emissions). Remaining categories planned for post-GA."

      responsible_party: "Data PM + Scope3ReportingAgent"
      target_completion: "Week 18 (reporting agent)"

      evidence:
        - "Exclusion justification template (pre-written)"
        - "Post-GA roadmap (categories 2, 3, 5, 7-15)"

  compliance_summary:
    total_requirements: 4
    completed: 4
    in_progress: 0
    not_started: 0
    compliance_percentage: 100  # 4/4 = 100% (for Cat 1, 4, 6 scope)

# ============================================================================
# IFRS S2 COMPLIANCE
# ============================================================================
ifrs_s2_compliance:
  standard_name: "IFRS S2 Climate-related Disclosures"
  issuing_body: "International Sustainability Standards Board (ISSB)"
  applicability: "Global baseline for climate-related disclosures (120+ countries)"
  effective_date: "January 1, 2024"
  website: "https://www.ifrs.org/issued-standards/ifrs-sustainability-standards-navigator/ifrs-s2-climate-related-disclosures/"

  requirements:
    # Requirement 1: Paragraph 29(a)(iii) - Scope 3 GHG Emissions
    - requirement_id: "IFRS-001"
      requirement: "Disclose gross Scope 3 GHG emissions in tonnes of CO2 equivalent"
      paragraph: "29(a)(iii): Scope 3 GHG emissions"

      implementation:
        status: "C"  # Completed (for Cat 1, 4, 6)
        disclosure_format:
          - "Total Scope 3 emissions (tCO2e)"
          - "Scope 3 emissions by category (Cat 1, 4, 6)"
          - "Exclusion note for Cat 2, 3, 5, 7-15"

      responsible_party: "Scope3ReportingAgent"
      target_completion: "Week 18 (reporting agent)"

      evidence:
        - "IFRS S2 PDF export (Para 29(a)(iii) section)"
        - "JSON export (structured data for integrations)"

    # Requirement 2: Paragraph 29(b) - Measurement Approach
    - requirement_id: "IFRS-002"
      requirement: "Disclose measurement approach, inputs, and assumptions"
      paragraph: "29(b): Measurement approach and inputs"

      implementation:
        status: "C"  # Completed
        measurement_approach: >
          "GHG Protocol Scope 3 Standard (2011) for all categories.
          ISO 14083:2023 for transport (Category 4).
          PACT Pathfinder v2.0 for supplier-specific PCFs (Category 1)."

        inputs_and_assumptions: >
          "Emission factors: ecoinvent v3.10, UK DESNZ, US EPA.
          GWP standard: IPCC AR6 (default) or AR5 (configurable).
          Uncertainty: Monte Carlo simulation (10,000 iterations)."

      responsible_party: "LCA Specialist + Scope3ReportingAgent"
      target_completion: "Week 18 (reporting agent)"

      evidence:
        - "Methodology disclosure (auto-generated from Factor Broker metadata)"
        - "Provenance chain (emission factor sources, versions)"

    # Requirement 3: Paragraph 33 - GHG Emission Reduction Targets
    - requirement_id: "IFRS-003"
      requirement: "Disclose GHG emission reduction targets (if any)"
      paragraph: "33: Targets"

      implementation:
        status: "IP"  # In Progress (tools provided, target setting requires strategic decision)
        vcci_support: "Emissions baseline, reduction potential from HotspotAnalysisAgent"
        customer_responsibility: "Board-level target setting (SBTi, net-zero, etc.)"

      responsible_party: "Data PM + Customer Success"
      target_completion: "N/A (customer-driven)"

      evidence:
        - "Baseline emissions report (automated)"
        - "Abatement scenarios (automated)"
        - "Target-setting templates (manual, customer fills)"

  compliance_summary:
    total_requirements: 3
    completed: 2
    in_progress: 1
    not_started: 0
    compliance_percentage: 67  # 2/3 = 67%

# ============================================================================
# ISO 14083:2023 COMPLIANCE
# ============================================================================
iso_14083_compliance:
  standard_name: "ISO 14083:2023 Quantification and reporting of GHG emissions arising from transport chain operations"
  issuing_body: "International Organization for Standardization (ISO)"
  applicability: "Transport and logistics (Scope 3 Cat 4, 9)"
  effective_date: "2023"
  website: "https://www.iso.org/standard/78864.html"

  requirements:
    # Requirement 1: Tonne-Kilometer (tkm) Calculation
    - requirement_id: "ISO-001"
      requirement: "Calculate transport emissions using distance × weight × emission factor (tkm)"
      clause: "ISO 14083 Clause 6: Calculation methodology"

      implementation:
        status: "C"  # Completed
        formula: "emissions = distance_km × weight_tonnes × emission_factor_per_tkm"
        conformance: "100% (zero variance on all 50 test cases)"

      responsible_party: "LCA Specialist + Scope3CalculatorAgent"
      target_completion: "Week 14 (completed)"

      evidence:
        - "OPA policy: category_4_transport.rego (distance-based calculation)"
        - "ISO 14083 test suite: 50/50 passed, 0.0% variance"

    # Requirement 2: WTT and TTW Emission Components
    - requirement_id: "ISO-002"
      requirement: "Include Well-to-Tank (WTT) and Tank-to-Wheel (TTW) emissions"
      clause: "ISO 14083 Clause 6.2: Emission factors"

      implementation:
        status: "C"  # Completed
        wtt: "Fuel production emissions (upstream)"
        ttw: "Fuel combustion emissions (direct)"
        total: "wtt_emissions + ttw_emissions"

      responsible_party: "LCA Specialist + Factor Broker"
      target_completion: "Week 14 (completed)"

      evidence:
        - "Emission factors: Separate WTT and TTW components"
        - "Category 4 calculation: Sums WTT + TTW for total"

    # Requirement 3: Transport Mode-Specific Factors
    - requirement_id: "ISO-003"
      requirement: "Use mode-specific emission factors (road, rail, air, sea, inland waterway)"
      clause: "ISO 14083 Annex C: Default emission factors"

      implementation:
        status: "C"  # Completed
        modes:
          - "Road: Truck type (light, medium, heavy), fuel type (diesel, CNG, electric)"
          - "Rail: Freight train, electrification %"
          - "Sea: Vessel type (container, bulk), fuel type (HFO, LNG)"
          - "Air: Cargo plane type, freight %"
          - "Pipeline: Electricity for pumps"

      responsible_party: "Factor Broker + LCA Specialist"
      target_completion: "Week 4 (Factor Broker)"

      evidence:
        - "Factor Broker: ISO 14083-compliant factors by mode"
        - "OPA policy: Mode-specific calculation logic"

    # Requirement 4: Uncertainty Reporting
    - requirement_id: "ISO-004"
      requirement: "Report uncertainty in transport emissions"
      clause: "ISO 14083 Clause 7: Uncertainty"

      implementation:
        status: "C"  # Completed
        method: "Monte Carlo simulation (10,000 iterations)"
        output: "Mean, std dev, p5, p95, ±X% uncertainty range"

      responsible_party: "LCA Specialist + Scope3CalculatorAgent"
      target_completion: "Week 14 (completed)"

      evidence:
        - "Monte Carlo engine (uncertainty propagation)"
        - "Category 4 results include uncertainty ranges"

    # Requirement 5: Certificate of Conformance
    - requirement_id: "ISO-005"
      requirement: "Provide certificate of conformance for ISO 14083 compliance"
      clause: "ISO 14083 Clause 9: Reporting"

      implementation:
        status: "C"  # Completed
        certificate_format: "PDF Certificate of Conformance"
        issuer: "GL-VCCI Platform"
        contents:
          - "Company name and reporting period"
          - "Transport emissions by mode"
          - "ISO 14083:2023 conformance statement"
          - "Test suite results (50/50 passed, 0.0% variance)"

      responsible_party: "Scope3ReportingAgent"
      target_completion: "Week 18 (reporting agent)"

      evidence:
        - "ISO 14083 Certificate template (auto-generated)"
        - "Test suite pass rate: 100%"

  compliance_summary:
    total_requirements: 5
    completed: 5
    in_progress: 0
    not_started: 0
    compliance_percentage: 100  # 5/5 = 100%

# ============================================================================
# SOC 2 TYPE II COMPLIANCE
# ============================================================================
soc2_compliance:
  standard_name: "SOC 2 Type II (Service Organization Control 2)"
  issuing_body: "AICPA (American Institute of CPAs)"
  applicability: "Enterprise SaaS providers (Fortune 500 procurement requirement)"
  audit_period: "11 months (Week 1-44 evidence collection)"
  audit_firm: "[Big 4 Firm - TBD]"
  audit_cost: "$60,000"

  trust_services_criteria:
    - criteria: "CC (Common Criteria): Security"
      requirements: 30
      completed: 0
      in_progress: 30
      target_completion: "Week 44 (GA)"
      status: "IP"

    - criteria: "A1 (Availability)"
      requirements: 5
      completed: 0
      in_progress: 5
      target_completion: "Week 44 (GA)"
      status: "IP"

    - criteria: "PI (Processing Integrity)"
      requirements: 8
      completed: 0
      in_progress: 8
      target_completion: "Week 44 (GA)"
      status: "IP"

    - criteria: "C (Confidentiality)"
      requirements: 6
      completed: 0
      in_progress: 6
      target_completion: "Week 44 (GA)"
      status: "IP"

    - criteria: "P (Privacy)"
      requirements: 12
      completed: 0
      in_progress: 12
      target_completion: "Week 44 (GA)"
      status: "IP"

  key_requirements:
    - requirement_id: "SOC2-001"
      requirement: "Logical access controls (RBAC, MFA, access reviews)"
      tsc: "CC6.1, CC6.2"
      status: "IP"
      responsible_party: "DevOps & Security Engineer"
      target_completion: "Week 6 (access control policies)"
      evidence:
        - "POL-002 Access Control Policy"
        - "AWS IAM + K8s RBAC configuration"
        - "Quarterly access reviews (automated reports)"

    - requirement_id: "SOC2-002"
      requirement: "Encryption at rest and in transit"
      tsc: "C1.2, CC6.6"
      status: "IP"
      responsible_party: "DevOps & Security Engineer"
      target_completion: "Week 8 (encryption enabled)"
      evidence:
        - "POL-004 Encryption Policy"
        - "PostgreSQL TDE, S3 SSE-KMS, TLS 1.3 configs"

    - requirement_id: "SOC2-003"
      requirement: "Change management (approval, testing, rollback)"
      tsc: "CC8.1, PI1.2"
      status: "IP"
      responsible_party: "Lead Architect + DevOps"
      target_completion: "Week 10 (GitOps workflow)"
      evidence:
        - "POL-005 Change Management Policy"
        - "GitHub PR approvals, ArgoCD deployment logs"

    - requirement_id: "SOC2-004"
      requirement: "Incident response procedures"
      tsc: "CC7.1, CC7.2"
      status: "IP"
      responsible_party: "CISO + DevOps"
      target_completion: "Week 12 (incident runbooks)"
      evidence:
        - "POL-006 Incident Response Policy"
        - "PagerDuty incident logs, RCA documents"

    - requirement_id: "SOC2-005"
      requirement: "Business continuity and disaster recovery (BCDR)"
      tsc: "A1.1, A1.2"
      status: "IP"
      responsible_party: "DevOps & Security Engineer"
      target_completion: "Week 20 (DR drills)"
      evidence:
        - "POL-007 BCDR Policy"
        - "Backup restoration tests (quarterly)"
        - "DR drill documentation (annually)"

    - requirement_id: "SOC2-006"
      requirement: "Security awareness training"
      tsc: "CC1.4"
      status: "IP"
      responsible_party: "HR + CISO"
      target_completion: "Week 8 (training rollout)"
      evidence:
        - "POL-013 Security Awareness Training Policy"
        - "LMS completion reports (KnowBe4)"

    - requirement_id: "SOC2-007"
      requirement: "Vendor and third-party risk management"
      tsc: "CC9.1, CC9.2"
      status: "IP"
      responsible_party: "Data PM + CISO"
      target_completion: "Week 12 (vendor assessments)"
      evidence:
        - "POL-012 Vendor Risk Management Policy"
        - "Vendor SOC 2 reports (ecoinvent, D&B, AWS)"

    - requirement_id: "SOC2-008"
      requirement: "Privacy and data protection (GDPR/CCPA compliance)"
      tsc: "P1.1, P2.1, P3.1"
      status: "IP"
      responsible_party: "DPO + Legal"
      target_completion: "Week 18 (consent registry)"
      evidence:
        - "POL-016 Privacy and Consent Management Policy"
        - "Consent registry (GDPR/CCPA compliant)"
        - "Privacy notices, opt-out enforcement"

  compliance_summary:
    total_requirements: 61  # 30 + 5 + 8 + 6 + 12
    completed: 0
    in_progress: 61
    not_started: 0
    compliance_percentage: 0  # Evidence collection starts Week 1, audit Week 45-48

  audit_timeline:
    - week: "1-4"
      activity: "SOC 2 readiness assessment"
      deliverable: "Gap analysis, control design"

    - week: "1-44"
      activity: "Evidence collection (11 months)"
      deliverable: "Automated evidence collection (logs, reviews, tests)"

    - week: "36"
      activity: "Penetration testing"
      deliverable: "Pen test report, vulnerability remediation"

    - week: "40"
      activity: "SOC 2 evidence pack review"
      deliverable: "80% evidence complete"

    - week: "45-48"
      activity: "SOC 2 Type II audit"
      deliverable: "SOC 2 Type II report (Big 4 firm)"

# ============================================================================
# GDPR COMPLIANCE
# ============================================================================
gdpr_compliance:
  regulation_name: "General Data Protection Regulation (GDPR)"
  jurisdiction: "European Union (EU) + European Economic Area (EEA)"
  applicability: "Any organization processing EU residents' personal data"
  effective_date: "May 25, 2018"
  penalties: "Up to €20M or 4% of global annual revenue (whichever is higher)"

  requirements:
    - requirement_id: "GDPR-001"
      requirement: "Lawful basis for processing personal data"
      article: "Article 6: Lawfulness of processing"

      implementation:
        status: "C"  # Completed
        lawful_bases:
          - "Consent (supplier engagement emails)"
          - "Contract (customer contracts, data processing agreements)"
          - "Legitimate interest (fraud prevention, security)"

      responsible_party: "DPO + Legal"
      target_completion: "Week 2 (completed)"

      evidence:
        - "POL-016 Privacy and Consent Management Policy"
        - "Consent registry (opt-in/opt-out tracking)"
        - "DPAs with customers (GDPR Article 28)"

    - requirement_id: "GDPR-002"
      requirement: "Right to erasure ('right to be forgotten')"
      article: "Article 17: Right to erasure"

      implementation:
        status: "IP"  # In Progress
        process: "Customer requests deletion → automated deletion within 30 days"
        scope: "All personal data (emails, names, IP addresses)"
        backups: "Encrypted backups purged after 30 days"

      responsible_party: "DevOps + DPO"
      target_completion: "Week 18 (automated deletion)"

      evidence:
        - "Deletion API endpoint (/api/v1/gdpr/delete)"
        - "Automated deletion logs (audit trail)"

    - requirement_id: "GDPR-003"
      requirement: "Right to data portability"
      article: "Article 20: Right to data portability"

      implementation:
        status: "IP"  # In Progress
        process: "Customer requests export → JSON/CSV export within 30 days"
        format: "Machine-readable (JSON, CSV)"

      responsible_party: "Backend Engineers + DPO"
      target_completion: "Week 18 (export API)"

      evidence:
        - "Export API endpoint (/api/v1/gdpr/export)"
        - "JSON/CSV export templates"

    - requirement_id: "GDPR-004"
      requirement: "Data breach notification (72 hours to supervisory authority)"
      article: "Article 33: Notification of a personal data breach to the supervisory authority"

      implementation:
        status: "C"  # Completed
        process: "Data breach detected → notify DPO → notify supervisory authority within 72h"
        supervisory_authority: "Relevant EU DPA (depends on customer location)"

      responsible_party: "CISO + DPO"
      target_completion: "Week 6 (completed)"

      evidence:
        - "POL-006 Incident Response Policy (GDPR breach notification)"
        - "Breach notification templates (72h timeline)"

    - requirement_id: "GDPR-005"
      requirement: "Data Protection Impact Assessment (DPIA)"
      article: "Article 35: Data protection impact assessment"

      implementation:
        status: "IP"  # In Progress
        trigger: "High-risk processing (large-scale personal data, automated decision-making)"
        process: "Annual DPIA review"

      responsible_party: "DPO + CISO"
      target_completion: "Week 36 (DPIA document)"

      evidence:
        - "DPIA document (risk assessment, mitigation measures)"
        - "Annual DPIA review (documented)"

  compliance_summary:
    total_requirements: 5
    completed: 2
    in_progress: 3
    not_started: 0
    compliance_percentage: 40  # 2/5 = 40%

# ============================================================================
# CCPA COMPLIANCE
# ============================================================================
ccpa_compliance:
  regulation_name: "California Consumer Privacy Act (CCPA)"
  jurisdiction: "California, USA (extraterritorial applicability)"
  applicability: "Businesses processing CA residents' personal information (revenue >$25M or 50K+ consumers)"
  effective_date: "January 1, 2020"
  penalties: "$2,500 per unintentional violation, $7,500 per intentional violation"

  requirements:
    - requirement_id: "CCPA-001"
      requirement: "Right to know (disclosure of data collection practices)"
      section: "CCPA Section 1798.100"

      implementation:
        status: "C"  # Completed
        disclosure: "Privacy notice (website, supplier portal)"
        contents:
          - "Categories of personal information collected"
          - "Purposes for collection"
          - "Third parties with whom data is shared"

      responsible_party: "DPO + Legal"
      target_completion: "Week 2 (completed)"

      evidence:
        - "Privacy notice (publicly accessible)"
        - "POL-016 Privacy and Consent Management Policy"

    - requirement_id: "CCPA-002"
      requirement: "Right to delete personal information"
      section: "CCPA Section 1798.105"

      implementation:
        status: "IP"  # In Progress (same as GDPR erasure)
        process: "Consumer requests deletion → automated deletion within 30 days"

      responsible_party: "DevOps + DPO"
      target_completion: "Week 18 (automated deletion)"

      evidence:
        - "Deletion API endpoint (/api/v1/ccpa/delete)"
        - "Automated deletion logs"

    - requirement_id: "CCPA-003"
      requirement: "Right to opt-out of data sale"
      section: "CCPA Section 1798.120"

      implementation:
        status: "N/A"  # Not Applicable (VCCI does not sell personal data)
        disclosure: "We do not sell personal information"

      responsible_party: "DPO + Legal"
      target_completion: "N/A"

      evidence:
        - "Privacy notice: 'We do not sell personal information'"

  compliance_summary:
    total_requirements: 3
    completed: 1
    in_progress: 1
    not_applicable: 1
    compliance_percentage: 50  # 1/2 = 50% (excluding N/A)

# ============================================================================
# OVERALL COMPLIANCE SUMMARY
# ============================================================================
overall_compliance_summary:
  standards_tracked: 8

  by_standard:
    - standard: "GHG Protocol Scope 3"
      compliance_percentage: 80
      status: "IP"
      ga_ready: true

    - standard: "ESRS (EU CSRD)"
      compliance_percentage: 25
      status: "IP"
      ga_ready: "Partial (Scope 3 component only)"

    - standard: "CDP Climate Change"
      compliance_percentage: 100
      status: "C"
      ga_ready: true

    - standard: "IFRS S2"
      compliance_percentage: 67
      status: "IP"
      ga_ready: true

    - standard: "ISO 14083:2023"
      compliance_percentage: 100
      status: "C"
      ga_ready: true

    - standard: "SOC 2 Type II"
      compliance_percentage: 0
      status: "IP"
      ga_ready: "In progress (audit Week 45-48)"

    - standard: "GDPR"
      compliance_percentage: 40
      status: "IP"
      ga_ready: "In progress"

    - standard: "CCPA"
      compliance_percentage: 50
      status: "IP"
      ga_ready: "In progress"

  overall_compliance_percentage: 58  # Weighted average

  ga_readiness:
    standards_ga_ready: 3  # CDP, IFRS S2, ISO 14083
    standards_partial: 2  # GHG Protocol, ESRS
    standards_in_progress: 3  # SOC 2, GDPR, CCPA

# ============================================================================
# RISK REGISTER (COMPLIANCE RISKS)
# ============================================================================
compliance_risks:
  - risk_id: "RISK-001"
    risk: "SOC 2 audit delays → Enterprise sales blocked"
    probability: "Medium"
    impact: "High"
    mitigation:
      - "Start SOC 2 readiness Week 1 (engaged Big 4 firm early)"
      - "Automated evidence collection (logs, reviews, tests)"
      - "Weekly SOC 2 progress reviews"
    owner: "CISO + DevOps"

  - risk_id: "RISK-002"
    risk: "GDPR breach notification failure (>72h) → €20M penalty"
    probability: "Low"
    impact: "Critical"
    mitigation:
      - "POL-006 Incident Response Policy (GDPR breach procedures)"
      - "Automated breach detection (SIEM alerts)"
      - "DPO on-call (24/7 for P0 incidents)"
    owner: "CISO + DPO"

  - risk_id: "RISK-003"
    risk: "ESRS non-compliance → EU market access blocked"
    probability: "Low"
    impact: "High"
    mitigation:
      - "ESRS Scope 3 component fully compliant (Cat 1, 4, 6)"
      - "XBRL export module (python-xbrl)"
      - "Customer communications: Scope 3 support available"
    owner: "Data PM + LCA Specialist"

# ============================================================================
# CHANGELOG
# ============================================================================
changelog:
  - version: "1.0.0"
    date: "2025-01-25"
    changes:
      - "Initial Compliance Register"
      - "8 standards tracked: GHG Protocol, ESRS, CDP, IFRS S2, ISO 14083, SOC 2, GDPR, CCPA"
      - "61 SOC 2 requirements, 5 GHG Protocol, 4 ESRS, 4 CDP, 3 IFRS S2, 5 ISO 14083, 5 GDPR, 3 CCPA"
      - "Overall compliance: 58% (weighted average)"
      - "GA readiness: 3 standards fully ready (CDP, IFRS S2, ISO 14083)"
      - "Compliance risk register (3 high-impact risks)"
