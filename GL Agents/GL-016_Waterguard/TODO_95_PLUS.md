# GL-016 WaterGuard - TODO for 95+ Score

**Current Score:** 77.5 | **Target Score:** 95+ | **Gap:** 17.5 pts

## Priority 1: Test Coverage (Target: 85%+)

- [ ] Run coverage check: `pytest tests/ --cov=. --cov-report=html --cov-fail-under=85`
- [ ] Add unit tests for water treatment calculations
- [ ] Add CoC (Cycles of Concentration) tests
- [ ] Add chemical dosing tests

## Priority 2: Treatment Validation Tests

- [ ] Add CoC optimization validation
- [ ] Add blowdown calculation tests
- [ ] Add makeup water requirement tests
- [ ] Add scaling index calculation tests (LSI, RSI)

## Priority 3: Chemical Dosing

- [ ] Add phosphate dosing calculation tests
- [ ] Add amine dosing tests
- [ ] Add oxygen scavenger dosing tests
- [ ] Add pH control tests

## Priority 4: Water Quality Monitoring

- [ ] Add conductivity correlation tests
- [ ] Add silica limit tests
- [ ] Add alkalinity balance tests
- [ ] Add dissolved solids trending tests

## Priority 5: Integration Testing

- [ ] Test with GL-003 (UnifiedSteam)
- [ ] Add laboratory data integration
- [ ] Test alarm threshold management

## Enhancement Components Added

| Component | Status | File |
|-----------|--------|------|
| CI/CD Pipeline | NEW | `.github/workflows/ci.yml` |
| Guardrails | NEW | `core/guardrails_integration.py` |
| Circuit Breaker | NEW | `core/circuit_breaker.py` |
| OpenTelemetry Tracing | NEW | `observability/tracing.py` |
| Prometheus Metrics | NEW | `observability/metrics.py` |
| Property Tests | NEW | `tests/property/test_determinism.py` |
| Chaos Tests | NEW | `tests/chaos/test_resilience.py` |
| K8s Manifests | NEW | `deploy/kubernetes/*.yaml` |
| SHAP Explainer | EXISTS | `explainability/shap_explainer.py` |

## Commands to Verify

```bash
# Run all tests with coverage
pytest tests/ --cov=. --cov-report=html

# Run water treatment tests
pytest tests/ -k "water or treatment" -v

# Run CoC tests
pytest tests/ -k "coc or concentration" -v

# Run chemical dosing tests
pytest tests/ -k "dosing or chemical" -v
```

---
*Generated by GreenLang Enhancement Script*
