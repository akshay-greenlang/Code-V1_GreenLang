# CodeQL Configuration for GreenLang
#
# Defines analysis settings, query selection, and path filters
#
# Author: GreenLang Security Team
# Version: 1.0.0

name: "GreenLang CodeQL Configuration"

# Disable default queries and use our curated set
disable-default-queries: false

# Query suites to use
queries:
  - uses: security-extended
  - uses: security-and-quality

# Custom query packs (when available)
packs:
  python:
    - codeql/python-queries

# Paths to analyze
paths:
  - greenlang/
  - deployment/
  - scripts/
  - tests/

# Paths to exclude from analysis
paths-ignore:
  - '**/node_modules/**'
  - '**/venv/**'
  - '**/.venv/**'
  - '**/vendor/**'
  - '**/dist/**'
  - '**/build/**'
  - '**/__pycache__/**'
  - '**/migrations/**'
  - '**/static/**'
  - '**/docs/**'
  - '**/*.min.js'
  - '**/*.bundle.js'
  - ralphy-agent/**

# Query filters
query-filters:
  # Exclude low-confidence results in PR checks
  - exclude:
      precision: low
  # Exclude informational findings for faster scans
  - exclude:
      problem.severity: recommendation

# Threat models
threat-models:
  # Include all remote flow sources
  - remote-flow-sources
  # Include database sources
  - database
  # Include file system sources
  - file

# Trap caching for faster subsequent runs
trap-caching: true
