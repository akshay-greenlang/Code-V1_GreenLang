# Kustomize Base Configuration for GL-011 FUELCRAFT
# This defines the common resources shared across all environments

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Namespace for all resources
namespace: greenlang

# Common labels applied to all resources
commonLabels:
  app: gl-011-fuelcraft
  agent: "GL-011"
  managed-by: "kustomize"

# Common annotations
commonAnnotations:
  documentation: "https://docs.greenlang.ai/agents/GL-011"
  deployment-tool: "kustomize"

# Resources to include
resources:
  # Core Kubernetes resources (relative paths to parent deployment/)
  - ../../deployment.yaml
  - ../../service.yaml
  - ../../configmap.yaml
  - ../../secret.yaml
  - ../../hpa.yaml
  - ../../pdb.yaml
  - ../../networkpolicy.yaml
  - ../../ingress.yaml
  - ../../serviceaccount.yaml
  - ../../servicemonitor.yaml
  - ../../resourcequota.yaml
  - ../../limitrange.yaml

# ConfigMap generator (for environment-agnostic configuration)
configMapGenerator:
  - name: gl-011-base-config
    literals:
      - app_name=GL-011 FUELCRAFT
      - app_version=1.0.0
      - deployment_tool=kustomize

# Secret generator (for base secrets - override in overlays)
secretGenerator:
  - name: gl-011-base-secrets
    type: Opaque
    literals:
      - placeholder=REPLACE_IN_OVERLAYS

# Images (for version management)
images:
  - name: gcr.io/greenlang/gl-011-fuelcraft
    newTag: 1.0.0

# Replicas (override in overlays)
replicas:
  - name: gl-011-fuelcraft
    count: 3
