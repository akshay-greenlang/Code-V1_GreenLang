# GL-008 SteamTrapInspector - Development Environment
# Kustomize overlay for development environment

apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Base configuration
resources:
  - ../../base

# Namespace override
namespace: greenlang-dev

# Name prefix for resources
namePrefix: dev-

# Common labels for dev environment
commonLabels:
  environment: development
  tier: dev

# Common annotations
commonAnnotations:
  environment: "development"
  cost-center: "engineering"

# Images - use dev tag
images:
  - name: gcr.io/greenlang/gl-008-steam-trap-inspector
    newTag: dev-latest

# Replicas - fewer for dev
replicas:
  - name: gl-008-steam-trap-inspector
    count: 1

# Patches
patches:
  - path: patches/replica-patch.yaml
  - path: patches/resource-patch.yaml
  - path: patches/env-patch.yaml
  - path: patches/hpa-patch.yaml
  - path: patches/ingress-patch.yaml

# ConfigMap patches for dev-specific config
configMapGenerator:
  - name: gl-008-config
    behavior: merge
    literals:
      - environment=development
      - log_level=DEBUG
      - feature_ml_classification=false
