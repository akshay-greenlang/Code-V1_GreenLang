# GreenLang Environment Template
# Copy this file to .env and replace placeholder values with your actual configuration
# This template shows the expected format for each variable

# ==============================================================================
# DATABASE CONFIGURATION
# ==============================================================================

# PostgreSQL Primary Database
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=greenlang_db
POSTGRES_USER=greenlang_user
POSTGRES_PASSWORD=<YOUR_POSTGRES_PASSWORD_HERE>
POSTGRES_SSL_MODE=require
POSTGRES_CONNECTION_POOL_SIZE=20
POSTGRES_MAX_OVERFLOW=10

# PostgreSQL Read Replica (Optional)
POSTGRES_READ_REPLICA_HOST=read.db.example.com
POSTGRES_READ_REPLICA_PORT=5432

# Redis Cache & Queue
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=redis_password_here
REDIS_DB=0
REDIS_SSL=false
REDIS_CONNECTION_POOL_SIZE=50
REDIS_SOCKET_TIMEOUT=30

# ==============================================================================
# EXTERNAL API KEYS
# ==============================================================================

# GLEIF (Global Legal Entity Identifier Foundation)
GLEIF_API_KEY=gleif_api_key_32_chars_here
GLEIF_API_URL=https://api.gleif.org/api/v1
GLEIF_RATE_LIMIT=10

# DUNS (Dun & Bradstreet)
DUNS_API_KEY=duns_api_key_here
DUNS_API_SECRET=duns_api_secret_here
DUNS_API_URL=https://api.dnb.com/v1
DUNS_SANDBOX_MODE=true

# OpenCorporates
OPENCORPORATES_API_KEY=oc_api_key_here
OPENCORPORATES_API_URL=https://api.opencorporates.com/v0.4

# Satellite Data Providers
PLANET_API_KEY=planet_api_key_here
SENTINEL_HUB_CLIENT_ID=sentinel_client_id_here
SENTINEL_HUB_CLIENT_SECRET=sentinel_client_secret_here
NASA_EARTHDATA_USERNAME=nasa_username
NASA_EARTHDATA_PASSWORD=nasa_password

# LLM Providers
OPENAI_API_KEY=<YOUR_OPENAI_API_KEY_HERE>
ANTHROPIC_API_KEY=<YOUR_ANTHROPIC_API_KEY_HERE>
AZURE_OPENAI_API_KEY=azure_openai_key_here
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4-deployment

# Cloud Provider Keys
AWS_ACCESS_KEY_ID=<YOUR_AWS_ACCESS_KEY_ID_HERE>
AWS_SECRET_ACCESS_KEY=<YOUR_AWS_SECRET_ACCESS_KEY_HERE>
AWS_REGION=us-east-1
AWS_KMS_KEY_ID=arn:aws:kms:us-east-1:123456789012:key/12345678-1234-1234-1234-123456789012

AZURE_TENANT_ID=12345678-1234-1234-1234-123456789012
AZURE_CLIENT_ID=12345678-1234-1234-1234-123456789012
AZURE_CLIENT_SECRET=azure_client_secret_here
AZURE_KEY_VAULT_URL=https://your-keyvault.vault.azure.net/

GCP_SERVICE_ACCOUNT_KEY=ewogICJ0eXBlIjogInNlcnZpY2VfYWNjb3VudCIsIC4uLgp9Cg==
GCP_PROJECT_ID=your-gcp-project-id
GCP_KMS_KEYRING=greenlang-keyring
GCP_KMS_KEY=greenlang-key

# ==============================================================================
# SECURITY SETTINGS
# ==============================================================================

# JWT Configuration
# CRITICAL: JWT_SECRET is required for API authentication
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# WARNING: Application will fail to start in production with placeholder values
JWT_SECRET=your-jwt-secret-min-32-chars-generate-with-python-secrets
JWT_SECRET_KEY=your-secret-key-min-32-chars-generate-with-openssl-rand-hex-32
JWT_REFRESH_SECRET_KEY=your-refresh-secret-key-min-32-chars-here
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7
JWT_ISSUER=greenlang.ai
JWT_AUDIENCE=greenlang-api
JWT_LEEWAY=0

# Encryption Keys
ENCRYPTION_KEY=<GENERATE_64_HEX_CHARS_WITH_openssl_rand_hex_32>
ENCRYPTION_SALT=<GENERATE_32_HEX_CHARS_WITH_openssl_rand_hex_16>
FIELD_ENCRYPTION_KEY=field_encryption_key_32_bytes_here
PROVENANCE_SIGNING_KEY=provenance_signing_key_for_sha256

# API Security
API_RATE_LIMIT_PER_MINUTE=100
API_KEY_HEADER_NAME=X-API-Key
CORS_ALLOWED_ORIGINS=http://localhost:3000,https://app.greenlang.ai
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=*

# Session Security
SESSION_SECRET_KEY=session_secret_key_min_32_chars
SESSION_COOKIE_SECURE=true
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=strict

# ==============================================================================
# SERVICE ENDPOINTS
# ==============================================================================

# Internal Services
GREENLANG_API_URL=http://localhost:8000
GREENLANG_FRONTEND_URL=http://localhost:3000
GREENLANG_WEBHOOK_URL=http://localhost:8000/webhooks
GREENLANG_METRICS_URL=http://localhost:9090

# Message Queue
RABBITMQ_HOST=localhost
RABBITMQ_PORT=5672
RABBITMQ_USER=rabbitmq_user
RABBITMQ_PASSWORD=rabbitmq_password
RABBITMQ_VHOST=/greenlang

# Object Storage
S3_ENDPOINT_URL=https://s3.amazonaws.com
S3_BUCKET_NAME=greenlang-storage
S3_ACCESS_KEY=s3_access_key_here
S3_SECRET_KEY=s3_secret_key_here
S3_REGION=us-east-1
S3_USE_SSL=true

# Email Service
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=noreply@greenlang.ai
SMTP_PASSWORD=smtp_password_here
SMTP_USE_TLS=true
EMAIL_FROM_ADDRESS=noreply@greenlang.ai
EMAIL_FROM_NAME=GreenLang Platform

# ==============================================================================
# FEATURE FLAGS
# ==============================================================================

# Core Features
FEATURE_ZERO_HALLUCINATION=true
FEATURE_PROVENANCE_TRACKING=true
FEATURE_ASYNC_PROCESSING=true
FEATURE_BATCH_PROCESSING=true
FEATURE_REAL_TIME_VALIDATION=true

# AI Features
FEATURE_LLM_CLASSIFICATION=true
FEATURE_LLM_NARRATIVE_GEN=true
FEATURE_SATELLITE_ML=false
FEATURE_ANOMALY_DETECTION=true

# Regulatory Features
FEATURE_CBAM_MODULE=true
FEATURE_CSRD_MODULE=true
FEATURE_SB253_MODULE=true
FEATURE_EUDR_MODULE=false
FEATURE_TAXONOMY_MODULE=true

# Integration Features
FEATURE_SAP_INTEGRATION=false
FEATURE_ORACLE_INTEGRATION=false
FEATURE_SALESFORCE_INTEGRATION=false
FEATURE_AZURE_IOT_INTEGRATION=false

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================

# Log Levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=/var/log/greenlang/app.log
LOG_FILE_MAX_SIZE=100
LOG_FILE_BACKUP_COUNT=10
LOG_TO_STDOUT=true

# Structured Logging
LOG_INCLUDE_TIMESTAMP=true
LOG_INCLUDE_HOSTNAME=true
LOG_INCLUDE_PROCESS_ID=true
LOG_INCLUDE_THREAD_ID=false

# External Logging Services
DATADOG_API_KEY=datadog_api_key_here
DATADOG_APP_KEY=datadog_app_key_here
DATADOG_SERVICE_NAME=greenlang-api
DATADOG_ENV=production

SENTRY_DSN=https://public@sentry.example.com/1
SENTRY_ENVIRONMENT=production
SENTRY_TRACES_SAMPLE_RATE=0.1

NEW_RELIC_LICENSE_KEY=new_relic_license_key_here
NEW_RELIC_APP_NAME=GreenLang API

# ==============================================================================
# PERFORMANCE SETTINGS
# ==============================================================================

# Application Performance
APP_WORKERS=4
APP_THREADS_PER_WORKER=4
APP_MAX_REQUESTS=1000
APP_MAX_REQUESTS_JITTER=50

# Database Performance
DB_STATEMENT_TIMEOUT=30000
DB_LOCK_TIMEOUT=10000
DB_CONNECTION_TIMEOUT=10
DB_COMMAND_TIMEOUT=30

# Cache Performance
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=greenlang:
CACHE_VERSION=1

# Batch Processing
BATCH_SIZE_DEFAULT=1000
BATCH_PROCESSING_TIMEOUT=600
BATCH_MAX_PARALLEL_JOBS=5

# ==============================================================================
# MONITORING & OBSERVABILITY
# ==============================================================================

# Metrics Collection
PROMETHEUS_METRICS_PORT=9090
PROMETHEUS_METRICS_PATH=/metrics
STATSD_HOST=localhost
STATSD_PORT=8125
STATSD_PREFIX=greenlang.

# Health Checks
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INCLUDE_DB=true
HEALTH_CHECK_INCLUDE_REDIS=true
HEALTH_CHECK_INCLUDE_EXTERNAL_APIS=false

# Tracing
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831
JAEGER_SERVICE_NAME=greenlang-api
JAEGER_SAMPLING_RATE=0.01

ZIPKIN_ENDPOINT=http://localhost:9411/api/v2/spans
ZIPKIN_SERVICE_NAME=greenlang-api

# ==============================================================================
# DEVELOPMENT & TESTING
# ==============================================================================

# Environment
ENVIRONMENT=development
DEBUG=false
TESTING=false
PROFILING=false

# Development Database
DEV_DB_SEED=true
DEV_DB_SAMPLE_DATA_SIZE=1000

# Testing
TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/test_db
TEST_REDIS_URL=redis://localhost:6379/1
TEST_COVERAGE_THRESHOLD=85
TEST_PARALLEL_WORKERS=4

# ==============================================================================
# DEPLOYMENT CONFIGURATION
# ==============================================================================

# Container Configuration
DOCKER_REGISTRY=docker.io/greenlang
DOCKER_IMAGE_TAG=latest
CONTAINER_PORT=8000
CONTAINER_MEMORY_LIMIT=2048
CONTAINER_CPU_LIMIT=2000

# Kubernetes
K8S_NAMESPACE=greenlang-prod
K8S_SERVICE_ACCOUNT=greenlang-api
K8S_CONFIG_MAP_NAME=greenlang-config
K8S_SECRET_NAME=greenlang-secrets

# Cloud Deployment
CLOUD_PROVIDER=aws
CLOUD_REGION=us-east-1
CLOUD_ZONE=us-east-1a
CLOUD_RESOURCE_GROUP=greenlang-prod

# ==============================================================================
# COMPLIANCE & AUDIT
# ==============================================================================

# Audit Configuration
AUDIT_LOG_ENABLED=true
AUDIT_LOG_TABLE=audit_logs
AUDIT_LOG_RETENTION_DAYS=2555
AUDIT_SENSITIVE_FIELDS=password,ssn,credit_card

# Compliance Settings
COMPLIANCE_MODE=strict
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=1095
SOC2_ENABLED=true
ISO27001_ENABLED=false

# Data Residency
DATA_RESIDENCY_REGION=EU
DATA_ENCRYPTION_AT_REST=true
DATA_ENCRYPTION_IN_TRANSIT=true

# ==============================================================================
# BACKUP & RECOVERY
# ==============================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_STORAGE_PATH=s3://greenlang-backups
BACKUP_ENCRYPTION_KEY=<GENERATE_WITH_openssl_rand_base64_32>

# Recovery Configuration
RECOVERY_POINT_OBJECTIVE=4
RECOVERY_TIME_OBJECTIVE=8
DISASTER_RECOVERY_REGION=us-west-2

# ==============================================================================
# CUSTOM APPLICATION SETTINGS
# ==============================================================================

# GreenLang Specific
GREENLANG_VERSION=1.0.0
GREENLANG_TENANT_ID=default
GREENLANG_WORKSPACE_ID=main
GREENLANG_DEFAULT_LANGUAGE=en
GREENLANG_DEFAULT_CURRENCY=USD
GREENLANG_DEFAULT_TIMEZONE=UTC
GREENLANG_REGION=US
GREENLANG_REPORT_FORMAT=json

# Agent Configuration
AGENT_TIMEOUT_SECONDS=300
AGENT_MAX_RETRIES=3
AGENT_RETRY_DELAY_SECONDS=5
AGENT_PARALLEL_EXECUTION=true

# Formula Engine
FORMULA_ENGINE_CACHE_SIZE=1000
FORMULA_ENGINE_PRECISION=6
FORMULA_ENGINE_ROUNDING_MODE=half_up

# Emission Factors
EMISSION_FACTORS_SOURCE=EPA
EMISSION_FACTORS_VERSION=2024.1
EMISSION_FACTORS_UPDATE_FREQUENCY=monthly

# Supply Chain
SUPPLY_CHAIN_TIERS=5
SUPPLY_CHAIN_DATA_QUALITY_THRESHOLD=80
SUPPLY_CHAIN_RISK_SCORING_ENABLED=true